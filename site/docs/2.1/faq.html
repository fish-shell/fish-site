<html>
<head>
<title>fish user documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<style type='text/css'>
/* fish documentation CSS overrides */
/* No scrollbar on the body. Our columns are independently scrollable */
body
{
    overflow: hidden;
}
.fish_left_bar, .fish_right_bar, .fish_only_bar
{
    position: absolute;
    top: 36px;
    bottom: 0;
    overflow-y: scroll;
    -webkit-overflow-scrolling: touch; /* necessary for momentum scrolling */
}
.fish_left_bar
{
    width: 250px;
    color: white;
}
.fish_left_bar a { color: white; }
.fish_left_bar a:visited { color: inherit; }
.fish_right_bar
{
    margin-left: 250px;
    margin-right: 0px;
    padding: 0 0 0 20px; /* 20 px on left */
    background-color: white;
        -moz-box-shadow: -5px 0px 5px -2px black;
        -webkit-box-shadow: -5px 0px 5px -2px black;
        box-shadow: -5px 0px 5px -2px black;
}
.fish_right_bar p
{
        margin-right: 8px;
}
.fish_left_big { width: 380px; }
.fish_right_little { margin-left: 380px; }
.fish_left_medium { width: 280; }
.fish_right_medium { margin-left: 280; }
.fish_left_little { width: 200px; }
.fish_right_big { margin-left: 200px; }
.fish_only_bar
{
    padding: 0px 20px;
}
h1, h2, h3 { color: #1E335E; }
h1 { font-size: 150%; }
h2 { font-size: 115%; }
h3 { font-size: 105%; }
/* Don't show the header */
div.header { display: none; }
h1.interior_title, h1.interior_title_borderless {
        color: #333;
}
h1.interior_title {
        padding-bottom: 10px;
        border-bottom: 1px solid #AAA;
}
div.contents { margin: 0px; }
div.qindex
{
    height: 30px;
    line-height: 30px;
    text-align: center;
    background-image: none;
    color: white;
    border: none;
}
.fish_left_bar, div.header, div.qindex
{
    background-color: #1E335E;
}
div.qindex
{
    border: none;
    padding: 3px 0px;
    /* Ensure the bottom border is visible over the left column */
    position: relative;
    z-index: 2;
}
div.qindex a
{
    color: white;
}
/* Hide the doxygen logo */
.footer { display: none; }
/* Don't let pre elements create a minimum width on the right bar */
.fish_right_bar pre { white-space:pre-wrap; }
/* Adjust list */
.fish_left_bar ul {
        padding-left: 27px;
    padding-right: 10px;
}
.fish_left_bar ul li { margin-bottom: 5px; }
/* Tighter lists for the little (command) bar */
.fish_left_little ul li { margin-bottom: 0; }
/* Adjust sublists */
.fish_left_bar ul ul { padding-left: 17px; }
.fish_left_bar ul ul li { margin-bottom: 0; }
/* Link hover */
.fish_left_bar a:hover {
  text-decoration: none;
  background-color: inherit;
  color: #99BBFF;
}
/* Horizontal bar */
hr {
        height: 1px;
        border: 0;
        background-color: #AAA;
}
</style>
</head>
<body>
<div class="qindex">
 <a class="qindex" href="http://fishshell.com/"><tt>fish</tt> shell</a>
|
 <a class="qindex" href="index.html">Documentation</a>
|
 <a class="qindex" href="tutorial.html">Tutorial</a>
|
<a class="qindex" href="design.html">Design</a>
|
<a class="qindex" href="commands.html">Commands</a>
|
<a class="qindex" href="faq.html">FAQ</a>
|
<a class="qindex" href="license.html">License</a>
</div>
<!-- Generated by Doxygen 1.8.4 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Frequently asked questions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"> <div class="fish_left_bar fish_left_big"> <ul>
<li><a href="#faq-envvar">How do I set or clear an environment variable?</a></li>
<li><a href="#faq-login-cmd">How do I run a command every login? What's fish's equivalent to <code>.bashrc</code>?</a></li>
<li><a href="#faq-prompt">How do I set my prompt?</a></li>
<li><a href="#faq-cmd-history">How do I run a command from history?</a></li>
<li><a href="#faq-subcommand">How do I run a subcommand? The backtick doesn't work!</a></li>
<li><a href="#faq-exit-status">How do I get the exit status of a command?</a></li>
<li><a href="#faq-single-env">How do I set an environment variable for just one command?</a></li>
<li><a href="#faq-customize-colors">How do I customize my syntax highlighting colors?</a></li>
<li><a href="#faq-update-manpage-completions">How do I update man page completions?</a></li>
<li><a href="#faq-cwd-symlink">Why does cd, pwd and other fish commands always resolve symlinked directories to their canonical path?</a></li>
<li><a href="#faq-cd-implicit">I accidentally entered a directory path and fish changed directory. What happened?</a></li>
<li><a href="#faq-open">The open command doesn't work.</a></li>
<li><a href="#faq-default">How do I make fish my default shell?</a></li>
<li><a href="#faq-titlebar">I'm seeing weird output before each prompt when using screen. What's wrong?</a></li>
<li><a href="#faq-greeting">How do I change the greeting message?</a></li>
<li><a href="#faq-history">Why doesn't history substitution ("!$" etc.) work?</a></li>
<li><a href="#faq-uninstalling">How do I uninstall fish?</a></li>
</ul>
 
</div>
<div class="fish_right_bar fish_right_little">
<h1 class="interior_title">Frequently Asked Questions</h1>

<h1><a class="anchor" id="faq-envvar"></a>
How do I set or clear an environment variable?</h1>
<p>Use the <a href="commands.html#set"><code>set</code></a> command:</p>
<pre>set -x key value
set -e key</pre><hr/>
<h1><a class="anchor" id="faq-login-cmd"></a>
How do I run a command every login? What's fish's equivalent to .bashrc?</h1>
<p>Edit the file <code>~/.config/fish/config.fish</code>, creating it if it does not exist. (Note the leading period.)</p>
<hr/>
<h1><a class="anchor" id="faq-prompt"></a>
How do I set my prompt?</h1>
<p>The prompt is the output of the <code>fish_prompt</code> function. Put it in <code>~/.config/fish/functions/fish_prompt.fish</code>. For example, a simple prompt is: </p>
<pre>function fish_prompt
  set_color $fish_color_cwd
  echo -n (prompt_pwd)
  set_color normal
  echo -n ' &gt; '
end</pre><p>You can also use the Web configuration tool, <a href="commands.html#fish_config"><code>fish_config</code></a>, to preview and choose from a gallery of sample prompts.</p>
<hr/>
<h1><a class="anchor" id="faq-cmd-history"></a>
How do I run a command from history?</h1>
<p>Type some part of the command, and then hit the up or down arrow keys to navigate through history matches.</p>
<hr/>
<h1><a class="anchor" id="faq-subcommand"></a>
How do I run a subcommand? The backtick doesn't work!</h1>
<p><code>fish</code> uses parentheses for subcommands. For example:</p>
<pre>for i in (ls)
  echo $i
end</pre><hr/>
<h1><a class="anchor" id="faq-exit-status"></a>
How do I get the exit status of a command?</h1>
<p>Use the <code>$status</code> variable. This replaces the <code>$</code>? variable used in some other shells.</p>
<hr/>
<h1><a class="anchor" id="faq-single-env"></a>
How do I set an environment variable for just one command?</h1>
<p><em><code>SOME_VAR=1 command</code> produces an error: <code>Unknown command "SOME_VAR=1"</code>.</em></p>
<p>Use the <code>env</code> command.</p>
<p><code>env SOME_VAR=1 command</code></p>
<p>You can also declare a local variable in a block:</p>
<pre>begin
  set -lx SOME_VAR 1
  command
end</pre><hr/>
<h1><a class="anchor" id="faq-customize-colors"></a>
How do I customize my syntax highlighting colors?</h1>
<p>Use the web configuration tool, <a href="commands.html#fish_config"><code>fish_config</code></a>, or alter the <a href="index.html#variables-color"><code>fish_color</code> family of environment variables</a>.</p>
<hr/>
<h1><a class="anchor" id="faq-update-manpage-completions"></a>
How do I update man page completions?</h1>
<p>Use the <a href="commands.html#fish_update_completions"><code>fish_update_completions</code></a> command.</p>
<hr/>
<h1><a class="anchor" id="faq-cwd-symlink"></a>
Why does cd, $PWD and and various fish commands always resolve symlinked directories to their canonical path?</h1>
<p><em> For example if ~/images is a symlink to ~/Documents/Images, if I write 'cd images', my prompt will say ~/D/Images, not ~/images. </em></p>
<p>Because it is impossible to consistently keep symlinked directories unresolved. It is indeed possible to do this partially, and many other shells do so. But it was felt there are enough serious corner cases that this is a bad idea. Most such issues have to do with how '..' is handled, and are variations of the following example:</p>
<p>Writing <code>cd images; ls ..</code> given the above directory structure would list the contents of ~/Documents, not of ~, even though using <code>cd ..</code> changes the current directory to ~, and the prompt, the pwd builtin and many other directory information sources suggest that the current directory is ~/images and its parent is ~. This issue is not possible to fix without either making every single command into a builtin, breaking Unix semantics or implementing kludges in every single command.</p>
<p>This issue can also be seen when doing IO redirection.</p>
<p>Another related issue is that many programs that operate on recursive directory trees, like the find command, silently ignore symlinked directories. For example, <code>find $PWD -name '*.txt'</code> silently fails in shells that don't resolve symlinked paths.</p>
<hr/>
<h1><a class="anchor" id="faq-cd-implicit"></a>
I accidentally entered a directory path and fish changed directory. What happened?</h1>
<p>If fish is unable to locate a command with a given name, and it starts with '.', '/' or '~', fish will test if a directory of that name exists. If it does, it is implicitly assumed that you want to change working directory. For example, the fastest way to switch to your home directory is to simply press <code>~</code> and enter.</p>
<hr/>
<h1><a class="anchor" id="faq-open"></a>
The open command doesn't work.</h1>
<p>The <code>open</code> command uses the MIME type database and the <code>.desktop</code> files used by Gnome and KDE to identify filetypes and default actions. If at least one of these environments is installed, but the open command is not working, this probably means that the relevant files are installed in a non-standard location. Consider <a href="index.html#more-help">asking for more help</a>.</p>
<hr/>
<h1><a class="anchor" id="faq-default"></a>
How do I make fish my default shell?</h1>
<p>If you installed fish manually (e.g. by compiling it, not by using a package manager), you first need to add fish to the list of shells by executing the following command (assuming you installed fish in /usr/local) as root:</p>
<p><code>echo /usr/local/bin/fish &gt;&gt;/etc/shells</code></p>
<p>If you installed a prepackaged version of fish, the package manager should have already done this for you.</p>
<p>In order to change your default shell, type:</p>
<p><code>chsh -s /usr/local/bin/fish</code></p>
<p>You may need to adjust the above path to e.g. <code>/usr/bin/fish</code>. Use the command <code>which fish</code> if you are unsure of where fish is installed.</p>
<p>Unfortunately, there is no way to make the changes take effect at once. You will need to log out and back in again.</p>
<hr/>
<h1><a class="anchor" id="faq-titlebar"></a>
I'm seeing weird output before each prompt when using screen. What's wrong?</h1>
<p>Quick answer:</p>
<p>Run the following command in fish:</p>
<pre>
echo 'function fish_title;end' &gt; ~/.config/fish/config.fish
</pre><p>Problem solved!</p>
<p>The long answer:</p>
<p>Fish is trying to set the titlebar message of your terminal. While screen itself supports this feature, your terminal does not. Unfortunately, when the underlying terminal doesn't support setting the titlebar, screen simply passes through the escape codes and text to the underlying terminal instead of ignoring them. It is impossible detect and resolve this problem from inside fish since fish has no way of knowing what the underlying terminal type is. For now, the only way to fix this is to unset the titlebar message, as suggested above.</p>
<p>Note that fish has a default titlebar message, which will be used if the fish_title function is undefined. So simply unsetting the fish_title function will not work.</p>
<hr/>
<h1><a class="anchor" id="faq-greeting"></a>
How do I change the greeting message?</h1>
<p>Change the value of the variable fish_greeting. For example, to remove the greeting use:</p>
<pre>
set fish_greeting
</pre><hr/>
<h1><a class="anchor" id="faq-history"></a>
Why doesn't history substitution ("!$" etc.) work?</h1>
<p>Because history substitution is an awkward interface that was invented before interactive line editing was even possible. Fish drops it in favor of perfecting the interactive history recall interface. Switching requires a small change of habits: if you want to modify an old line/word, first recall it, then edit. E.g. don't type "sudo !!" - first press Up, then Home, then type "sudo ".</p>
<p>Fish history recall is very simple yet effective:</p>
<ul>
<li>As in any modern shell, the Up arrow recalls whole lines, starting from the last line executed. A single press replaces "!!", later presses replace "!-3" and the like.<ul>
<li>If the line you want is far back in the history, type any part of the line and then press Up one or more times. This will constrain the recall to lines that include this text, and you will get to the line you want much faster. This replaces "!vi", "!?bar.c" and the like.</li>
</ul>
</li>
<li>Alt+Up recalls individual arguments, starting from the last argument in the last line executed. A single press replaces "!$", later presses replace "!!:4" and the like.<ul>
<li>If the argument you want is far back in history (e.g. 2 lines back - that's a lot of words!), type any part of it and then press Alt+Up. This will show only arguments containing that part and you will get what you want much faster. Try it out, this is very convenient!</li>
<li>If you want to reuse several arguments from the same line ("!!:3*" and the like), consider recalling the whole line and removing what you don't need (Alt+D and Alt+Backspace are your friends).</li>
</ul>
</li>
</ul>
<p>See <a href="index.html#editor">documentation</a> for more details about line editing in fish.</p>
<hr/>
<h1><a class="anchor" id="faq-uninstalling"></a>
Uninstalling fish</h1>
<p>Should you wish to uninstall fish, first ensure fish is not set as your shell. Run <code>chsh -s /bin/bash</code> if you are not sure.</p>
<p>Next, do the following (assuming fish was installed to /usr/local):</p>
<pre>
rm -Rf /usr/local/etc/fish /usr/local/share/fish ~/.config/fish
rm /usr/local/share/man/man1/fish*.1
cd /usr/local/bin
rm -f fish mimedb fish_pager fishd fish_indent
</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 1 2013 17:28:48 for fish by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
