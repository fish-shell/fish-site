<html>
<head>
<title>fish user documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<style type='text/css'>
/* fish documentation CSS overrides */
/* No scrollbar on the body. Our columns are independently scrollable */
body
{
    overflow: hidden;
}
.fish_left_bar, .fish_right_bar, .fish_only_bar
{
    position: absolute;
    top: 36px;
    bottom: 0;
    overflow-y: scroll;
    -webkit-overflow-scrolling: touch; /* necessary for momentum scrolling */
}
.fish_left_bar
{
    width: 250px;
    color: white;
}
.fish_left_bar a { color: white; }
.fish_left_bar a:visited { color: inherit; }
.fish_right_bar
{
    margin-left: 250px;
    margin-right: 0px;
    padding: 0 0 0 20px; /* 20 px on left */
    background-color: white;
        -moz-box-shadow: -5px 0px 5px -2px black;
        -webkit-box-shadow: -5px 0px 5px -2px black;
        box-shadow: -5px 0px 5px -2px black;
}
.fish_right_bar p
{
        margin-right: 8px;
}
.fish_left_big { width: 380px; }
.fish_right_little { margin-left: 380px; }
.fish_left_medium { width: 280; }
.fish_right_medium { margin-left: 280; }
.fish_left_little { width: 200px; }
.fish_right_big { margin-left: 200px; }
.fish_only_bar
{
    padding: 0px 20px;
}
h1, h2, h3 { color: #1E335E; }
h1 { font-size: 150%; }
h2 { font-size: 115%; }
h3 { font-size: 105%; }
/* Don't show the header */
div.header { display: none; }
h1.interior_title, h1.interior_title_borderless {
        color: #333;
}
h1.interior_title {
        padding-bottom: 10px;
        border-bottom: 1px solid #AAA;
}
div.contents { margin: 0px; }
div.qindex
{
    height: 30px;
    line-height: 30px;
    text-align: center;
    background-image: none;
    color: white;
    border: none;
}
.fish_left_bar, div.header, div.qindex
{
    background-color: #1E335E;
}
div.qindex
{
    border: none;
    padding: 3px 0px;
    /* Ensure the bottom border is visible over the left column */
    position: relative;
    z-index: 2;
}
div.qindex a
{
    color: white;
}
/* Hide the doxygen logo */
.footer { display: none; }
/* Don't let pre elements create a minimum width on the right bar */
.fish_right_bar pre { white-space:pre-wrap; }
/* Adjust list */
.fish_left_bar ul {
        padding-left: 27px;
    padding-right: 10px;
}
.fish_left_bar ul li { margin-bottom: 5px; }
/* Tighter lists for the little (command) bar */
.fish_left_little ul li { margin-bottom: 0; }
/* Adjust sublists */
.fish_left_bar ul ul { padding-left: 17px; }
.fish_left_bar ul ul li { margin-bottom: 0; }
/* Link hover */
.fish_left_bar a:hover {
  text-decoration: none;
  background-color: inherit;
  color: #99BBFF;
}
/* Horizontal bar */
hr {
        height: 1px;
        border: 0;
        background-color: #AAA;
}
</style>
</head>
<body>
<div class="qindex">
 <a class="qindex" href="http://fishshell.com/"><tt>fish</tt> shell</a>
|
 <a class="qindex" href="index.html">Documentation</a>
|
 <a class="qindex" href="tutorial.html">Tutorial</a>
|
<a class="qindex" href="design.html">Design</a>
|
<a class="qindex" href="commands.html">Commands</a>
|
<a class="qindex" href="faq.html">FAQ</a>
|
<a class="qindex" href="license.html">License</a>
</div>
<!-- Generated by Doxygen 1.8.4 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Commands bundled with fish </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"> <div class="fish_left_bar fish_left_little"> <ul>
<li><a href="#alias">alias</a></li>
<li><a href="#and">and</a></li>
<li><a href="#begin">begin</a></li>
<li><a href="#bg">bg</a></li>
<li><a href="#bind">bind</a></li>
<li><a href="#block">block</a></li>
<li><a href="#break">break</a></li>
<li><a href="#breakpoint">breakpoint</a></li>
<li><a href="#builtin">builtin</a></li>
<li><a href="#case">case</a></li>
<li><a href="#cd">cd</a></li>
<li><a href="#command">command</a></li>
<li><a href="#commandline">commandline</a></li>
<li><a href="#complete">complete</a></li>
<li><a href="#contains">contains</a></li>
<li><a href="#continue">continue</a></li>
<li><a href="#count">count</a></li>
<li><a href="#dirh">dirh</a></li>
<li><a href="#dirs">dirs</a></li>
<li><a href="#echo">echo</a></li>
<li><a href="#else">else</a></li>
<li><a href="#emit">emit</a></li>
<li><a href="#end">end</a></li>
<li><a href="#eval">eval</a></li>
<li><a href="#exec">exec</a></li>
<li><a href="#exit">exit</a></li>
<li><a href="#fg">fg</a></li>
<li><a href="#fish">fish</a></li>
<li><a href="#fish_config">fish_config</a></li>
<li><a href="#fish_indent">fish_indent</a></li>
<li><a href="#fish_pager">fish_pager</a></li>
<li><a href="#fish_prompt">fish_prompt</a></li>
<li><a href="#fish_right_prompt">fish_right_prompt</a></li>
<li><a href="#fish_update_completions">fish_update_completions</a></li>
<li><a href="#fishd">fishd</a></li>
<li><a href="#for">for</a></li>
<li><a href="#funced">funced</a></li>
<li><a href="#funcsave">funcsave</a></li>
<li><a href="#function">function</a></li>
<li><a href="#functions">functions</a></li>
<li><a href="#help">help</a></li>
<li><a href="#history">history</a></li>
<li><a href="#if">if</a></li>
<li><a href="#isatty">isatty</a></li>
<li><a href="#jobs">jobs</a></li>
<li><a href="#math">math</a></li>
<li><a href="#mimedb">mimedb</a></li>
<li><a href="#nextd">nextd</a></li>
<li><a href="#not">not</a></li>
<li><a href="#open">open</a></li>
<li><a href="#or">or</a></li>
<li><a href="#popd">popd</a></li>
<li><a href="#prevd">prevd</a></li>
<li><a href="#psub">psub</a></li>
<li><a href="#pushd">pushd</a></li>
<li><a href="#pwd">pwd</a></li>
<li><a href="#random">random</a></li>
<li><a href="#read">read</a></li>
<li><a href="#return">return</a></li>
<li><a href="#set">set</a></li>
<li><a href="#set_color">set_color</a></li>
<li><a href="#source">source</a></li>
<li><a href="#status">status</a></li>
<li><a href="#switch">switch</a></li>
<li><a href="#test">test</a></li>
<li><a href="#trap">trap</a></li>
<li><a href="#type">type</a></li>
<li><a href="#ulimit">ulimit</a></li>
<li><a href="#umask">umask</a></li>
<li><a href="#vared">vared</a></li>
<li><a href="#while">while</a>  </div> </li>
</ul>
 
<div class="fish_right_bar fish_right_big">
<h1 class="interior_title_borderless">Commands</h1>
<div id="old-docs-notice" style="background-color: #ffffa0; color: black; padding: 1em; margin: .5em 0; border-radius: 5px;">This documents an old version of fish. <a href="/docs/current/">See the latest release.</a></div>
Fish ships with a large number of builtin commands, shellscript functions and external commands. These are all described below.
 <hr/>
 <h1><a class="anchor" id="alias"></a>
alias - create a function</h1>
<h2><a class="anchor" id="alias-synopsis"></a>
Synopsis</h2>
<pre>alias NAME DEFINITION
alias NAME=DEFINITION</pre><h2><a class="anchor" id="alias-description"></a>
Description</h2>
<p><code>alias</code> is a simple wrapper for the <code>function</code> builtin. It exists for backwards compatibility with Posix shells. For other uses, it is recommended to define a <a href="#function">function</a>.</p>
<p><code>fish</code> does not keep track of which functions have been defined using <code>alias</code>. They must be erased using <code>functions -e</code>.</p>
<ul>
<li>NAME is the name of the alias</li>
<li>DEFINITION is the actual command to execute. The string " $argv" will be appended.</li>
</ul>
<p>You cannot create an alias to a function with the same name.</p>
<h2><a class="anchor" id="alias-example"></a>
Example</h2>
<p>The following code will create <code>rmi</code>, which runs <code>rm</code> with additional arguments on every invocation.</p>
<p><code>alias rmi "rm -i"</code></p>
<p>This is equivalent to entering the following function:</p>
<pre>function rmi
    rm -i $argv
end</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="and"></a>
and - conditionally execute a command</h1>
<h2><a class="anchor" id="and-synopsis"></a>
Synopsis</h2>
<p><code>COMMAND1; and COMMAND2</code></p>
<h2><a class="anchor" id="and-description"></a>
Description</h2>
<p><code>and</code> is used to execute a command if the current exit status (as set by the last previous command) is 0.</p>
<p><code>and</code> does not change the current exit status.</p>
<p>The exit status of the last foreground command to exit can always be accessed using the <a href="index.html#variables-status">$status</a> variable.</p>
<h2><a class="anchor" id="and-example"></a>
Example</h2>
<p>The following code runs the <code>make</code> command to build a program. If the build succeeds, <code>make</code>'s exit status is 0, and the program is installed. If either step fails, the exit status is 1, and <code>make clean</code> is run, which removes the files created by the. build process.</p>
<pre>
make; and make install; or make clean
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="begin"></a>
begin - start a new block of code</h1>
<h2><a class="anchor" id="begin-synopsis"></a>
Synopsis</h2>
<p><code>begin; [COMMANDS...;] end</code></p>
<h2><a class="anchor" id="begin-description"></a>
Description</h2>
<p><code>begin</code> is used to create a new block of code.</p>
<p>The block is unconditionally executed. <code>begin; ...; end</code> is equivalent to <code>if true; ...; end</code>.</p>
<p><code>begin</code> is used to group a number of commands into a block. This allows the introduction of a new variable scope, redirection of the input or output of a set of commands as a group, or to specify precedence when using the conditional commands like <code>and</code>.</p>
<p><code>begin</code> does not change the current exit status.</p>
<h2><a class="anchor" id="begin-example"></a>
Example</h2>
<p>The following code sets a number of variables inside of a block scope. Since the variables are set inside the block and have local scope, they will be automatically deleted when the block ends.</p>
<pre>
begin
        set -l PIRATE Yarrr
        ...
end
# This will not output anything, since the PIRATE variable went out
# of scope at the end of the block
echo $PIRATE
</pre><p>In the following code, all output is redirected to the file out.html.</p>
<pre>
begin
        echo $xml_header
        echo $html_header
        if test -e $file
                ...
        end
        ...</pre><pre>end &gt; out.html
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="bg"></a>
bg - send jobs to background</h1>
<h2><a class="anchor" id="bg-synopsis"></a>
Synopsis</h2>
<p><code>bg [PID...]</code></p>
<h2><a class="anchor" id="bg-description"></a>
Description</h2>
<p><code>bg</code> sends <a href="index.html#syntax-job-control">jobs</a> to the background, resuming them if they are stopped. A background job is executed simultaneously with fish, and does not have access to the keyboard. If no job is specified, the last job to be used is put in the background. If PID is specified, the jobs with the specified process group IDs are put in the background.</p>
<p>The PID of the desired process is usually found by using <a href="index.html#expand-process">process expansion</a>.</p>
<h2><a class="anchor" id="bg-example"></a>
Example</h2>
<p><code>bg %1</code> will put the job with job ID 1 in the background.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="bind"></a>
bind - handle fish key bindings</h1>
<h2><a class="anchor" id="bind-synopsis"></a>
Synopsis</h2>
<p><code>bind [OPTIONS] SEQUENCE COMMAND</code></p>
<h2><a class="anchor" id="bind-description"></a>
Description</h2>
<p><code>bind</code> adds a binding for the specified key sequence to the specified command.</p>
<p>SEQUENCE is the character sequence to bind to. These should be written as <a href="index.html#escapes">fish escape sequences</a>. For example, because pressing the Alt key and another character sends that character prefixed with an escape character, Alt-based key bindings can be written using the <code>\e</code> escape. For example, Alt-w can be written as <code>\ew</code>. The control character can be written in much the same way using the <code>\c</code> escape, for example Control-x (^X) can be written as <code>\cx</code>. Note that Alt-based key bindings are case sensitive and Control-based key bindings are not. This is a constraint of text-based terminals, not <code>fish</code>.</p>
<p>The default key binding can be set by specifying a SEQUENCE of the empty string (that is, <code>''</code>). It will be used whenever no other binding matches. For most key bindings, it makes sense to use the <code>self-insert</code> function (i.e. <code>bind '' self-insert</code> as the default keybinding. This will insert any keystrokes not specifically bound to into the editor. Non-printable characters are ignored by the editor, so this will not result in control sequences being printable.</p>
<p>If the -k switch is used, the name of the key (such as down, up or backspace) is used instead of a sequence. The names used are the same as the corresponding curses variables, but without the 'key_' prefix. (See <code>terminfo(5)</code> for more information, or use <code>bind &ndash;key-names</code> for a list of all available named keys.)</p>
<p>COMMAND can be any fish command, but it can also be one of a set of special input functions. These include functions for moving the cursor, operating on the kill-ring, performing tab completion, etc. Use 'bind &ndash;function-names' for a complete list of these input functions.</p>
<p>When COMMAND is a shellscript command, it is a good practice to put the actual code into a <a href="#function">function</a> and simply bind to the function name. This way it becomes significantly easier to test the function while editing, and the result is usually more readable as well.</p>
<p>If such a script produces output, the script needs to finish by calling 'commandline -f repaint' in order to tell fish that a repaint is in order.</p>
<p>Key bindings are not saved between sessions by default. To save custom keybindings, edit the <code>fish_user_key_bindings</code> function and insert the appropriate <code>bind</code> statements.</p>
<p>The following parameters are available:</p>
<ul>
<li><code>-k</code> or <code>&ndash;key</code> Specify a key name, such as 'left' or 'backspace' instead of a character sequence</li>
<li><code>-K</code> or <code>&ndash;key-names</code> Display a list of available key names</li>
<li><code>-f</code> or <code>&ndash;function-names</code> Display a list of available input functions</li>
</ul>
<p>The following special input functions are available:</p>
<ul>
<li><code>backward-char</code>, moves one character to the left</li>
<li><code>backward-delete-char</code>, deletes one character of input to the left of the cursor</li>
<li><code>backward-kill-line</code>, move everything from the beginning of the line to the cursor to the killring</li>
<li><code>backward-kill-word</code>, move the word to the left of the cursor to the killring</li>
<li><code>backward-word</code>, move one word to the left</li>
<li><code>beginning-of-history</code>, move to the beginning of the history</li>
<li><code>beginning-of-line</code>, move to the beginning of the line</li>
<li><code>capitalize-word</code>, make the current word begin with a capital letter</li>
<li><code>complete</code>, guess the remainder of the current token</li>
<li><code>delete-char</code>, delete one character to the right of the cursor</li>
<li><code>delete-line</code>, delete the entire line</li>
<li><code>downcase-word</code>, make the current word lowercase</li>
<li><code>dump-functions</code>, print a list of all key-bindings</li>
<li><code>end-of-history</code>, move to the end of the history</li>
<li><code>end-of-line</code>, move to the end of the line</li>
<li><code>explain</code>, print a description of possible problems with the current command</li>
<li><code>forward-char</code>, move one character to the right</li>
<li><code>forward-word</code>, move one word to the right</li>
<li><code>history-search-backward</code>, search the history for the previous match</li>
<li><code>history-search-forward</code>, search the history for the next match</li>
<li><code>kill-line</code>, move everything from the cursor to the end of the line to the killring</li>
<li><code>kill-whole-line</code>, move the line to the killring</li>
<li><code>kill-word</code>, move the next word to the killring</li>
<li><code>upcase-word</code>, make the current word uppercase</li>
<li><code>yank</code>, insert the latest entry of the killring into the buffer</li>
<li><code>yank-pop</code>, rotate to the previous entry of the killring</li>
</ul>
<h2><a class="anchor" id="bind-example"></a>
Examples</h2>
<p><code>bind \cd 'exit'</code> causes <code>fish</code> to exit when Control-d is pressed.</p>
<p><code>bind -k ppage history-search-backward</code> performs a history search when the Page Up key is pressed.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="block"></a>
block - temporarily block delivery of events</h1>
<h2><a class="anchor" id="block-synopsis"></a>
Synopsis</h2>
<p><code>block [OPTIONS...]</code></p>
<h2><a class="anchor" id="block-description"></a>
Description</h2>
<p><code>block</code> prevents events triggered by <code>fish</code> or the <a href="commands.html#emit"><code>emit</code></a> command from being delivered and acted upon while the block is in place.</p>
<p>In functions, <code>block</code> can be useful while performing work that should not be interrupted by the shell.</p>
<p>The block can be removed. Any events which triggered while the block was in place will then be delivered.</p>
<p>Event blocks should not be confused with code blocks, which are created with <code>begin</code>, <code>if</code>, <code>while</code> or <code>for</code></p>
<p>The following parameters are available:</p>
<ul>
<li><code>-l</code> or <code>&ndash;local</code> Release the block automatically at the end of the current innermost code block scope</li>
<li><code>-g</code> or <code>&ndash;global</code> Never automatically release the lock</li>
<li><code>-e</code> or <code>&ndash;erase</code> Release global block</li>
</ul>
<h2><a class="anchor" id="block-example"></a>
Example</h2>
<pre>
# Create a function that listens for events
function --on-event foo foo; echo 'foo fired'; end
# Block the delivery of events
block -g
emit foo
# No output will be produced
block -e
# 'foo fired' will now be printed
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="break"></a>
break - stop the current inner loop</h1>
<h2><a class="anchor" id="break-synopsis"></a>
Synopsis</h2>
<p><code>LOOP_CONSTRUCT; [COMMANDS...] break; [COMMANDS...] end</code></p>
<h2><a class="anchor" id="break-description"></a>
Description</h2>
<p><code>break</code> halts a currently running loop, such as a <a href="#for">for</a> loop or a <a href="#while">while</a> loop. It is usually added inside of a conditional block such as an <a href="#if">if</a> statement or a <a href="#switch">switch</a> statement.</p>
<p>There are no parameters for <code>break</code>.</p>
<h2><a class="anchor" id="break-example"></a>
Example</h2>
<p>The following code searches all .c files for "smurf", and halts at the first occurrence.</p>
<pre>
for i in *.c
    if grep smurf $i
        echo Smurfs are present in $i
        break
    end
end
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="breakpoint"></a>
breakpoint - Launch debug mode</h1>
<h2><a class="anchor" id="breakpoint-synopsis"></a>
Synopsis</h2>
<p><code>breakpoint</code></p>
<h2><a class="anchor" id="breakpoint-description"></a>
Description</h2>
<p><code>breakpoint</code> is used to halt a running script and launch an interactive debugging prompt.</p>
<p>For more details, see <a href="index.html#debugging">Debugging fish scripts</a> in the <code>fish</code> manual.</p>
<p>There are no parameters for <code>breakpoint</code>.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="builtin"></a>
builtin - run a builtin command</h1>
<h2><a class="anchor" id="builtin-synopsis"></a>
Synopsis</h2>
<p><code>builtin BUILTINNAME [OPTIONS...]</code></p>
<h2><a class="anchor" id="builtin-description"></a>
Description</h2>
<p><code>builtin</code> forces the shell to use a builtin command, rather than a function or program.</p>
<p>The following parameters are available:</p>
<ul>
<li><code>-n</code> or <code>&ndash;names</code> List the names of all defined builtins</li>
</ul>
<h2><a class="anchor" id="builtin-example"></a>
Example</h2>
<p><code>builtin jobs</code> executes the jobs builtin, even if a function named jobs exists.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="case"></a>
case - conditionally execute a block of commands</h1>
<h2><a class="anchor" id="case-synopsis"></a>
Synopsis</h2>
<p><code>switch VALUE; [case [WILDCARD...]; [COMMANDS...]; ...] end</code></p>
<h2><a class="anchor" id="case-description"></a>
Description</h2>
<p><code>switch</code> performs one of several blocks of commands, depending on whether a specified value equals one of several wildcarded values. <code>case</code> is used together with the <code>switch</code> statement in order to determine which block should be executed.</p>
<p>Each <code>case</code> command is given one or more parameters. The first <code>case</code> command with a parameter that matches the string specified in the switch command will be evaluated. <code>case</code> parameters may contain wildcards. These need to be escaped or quoted in order to avoid regular wildcard expansion using filenames.</p>
<p>Note that fish does not fall through on case statements. Only the first matching case is executed.</p>
<p>Note that command substitutions in a case statement will be evaluated even if its body is not taken. All substitutions, including command substitutions, must be performed before the value can be compared against the parameter.</p>
<h2><a class="anchor" id="case-example"></a>
Example</h2>
<p>If the variable $animal contains the name of an animal, the following code would attempt to classify it:</p>
<pre>
switch $animal
    case cat
        echo evil
    case wolf dog human moose dolphin whale
        echo mammal
    case duck goose albatross
        echo bird
    case shark trout stingray
        echo fish
    # Note that the next case has a wildcard which is quoted
    case '*'
        echo I have no idea what a $animal is
end
</pre><p>If the above code was run with <code>$animal</code> set to <code>whale</code>, the output would be <code>mammal</code>.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="cd"></a>
cd - change directory</h1>
<h2><a class="anchor" id="cd-synopsis"></a>
Synopsis</h2>
<p><code>cd [DIRECTORY]</code></p>
<h2><a class="anchor" id="cd-description"></a>
Description</h2>
<p><code>cd</code> changes the current working directory.</p>
<p>If <code>DIRECTORY</code> is supplied, it will become the new directory. If no parameter is given, the contents of the <code>HOME</code> environment variable will be used.</p>
<p>If <code>DIRECTORY</code> is a relative path, the paths found in the <code>CDPATH</code> environment variable array will be tried as prefixes for the specified path.</p>
<p>Note that the shell will attempt to change directory without requiring <code>cd</code> if the name of a directory is provided (starting with '.', '/' or '~', or ending with '/').</p>
<h2><a class="anchor" id="cd-example"></a>
Examples</h2>
<p><code>cd</code> changes the working directory to your home directory.</p>
<p><code>cd /usr/src/fish-shell</code> changes the working directory to <code>/usr/src/fish-shell</code>.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="command"></a>
command - run a program</h1>
<h2><a class="anchor" id="command-synopsis"></a>
Synopsis</h2>
<p><code>command COMMANDNAME [OPTIONS...]</code></p>
<h2><a class="anchor" id="command-description"></a>
Description</h2>
<p><code>command</code> forces the shell to execute the program <code>COMMANDNAME</code> and ignore any functions or builtins with the same name.</p>
<h2><a class="anchor" id="command-example"></a>
Example</h2>
<p><code>command ls</code> causes fish to execute the <code>ls</code> program, even if an 'ls' function exists.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="commandline"></a>
commandline - set or get the current command line buffer</h1>
<h2><a class="anchor" id="commandline-synopsis"></a>
Synopsis</h2>
<p><code>commandline [OPTIONS] [CMD]</code></p>
<h2><a class="anchor" id="commandline-description"></a>
Description</h2>
<p><code>commandline</code> can be used to set or get the current contents of the command line buffer.</p>
<p>With no parameters, <code>commandline</code> returns the current value of the command line.</p>
<p>With <code>CMD</code> specified, the command line buffer is erased and replaced with the contents of <code>CMD</code>.</p>
<p>The following options are available:</p>
<ul>
<li><code>-C</code> or <code>&ndash;cursor</code> set or get the current cursor position, not the contents of the buffer. If no argument is given, the current cursor position is printed, otherwise the argument is interpreted as the new cursor position.</li>
<li><code>-f</code> or <code>&ndash;function</code> inject readline functions into the reader. This option cannot be combined with any other option. It will cause any additional arguments to be interpreted as readline functions, and these functions will be injected into the reader, so that they will be returned to the reader before any additional actual key presses are read.</li>
</ul>
<p>The following options change the way <code>commandline</code> updates the command line buffer:</p>
<ul>
<li><code>-a</code> or <code>&ndash;append</code> do not remove the current commandline, append the specified string at the end of it</li>
<li><code>-i</code> or <code>&ndash;insert</code> do not remove the current commandline, insert the specified string at the current cursor position</li>
<li><code>-r</code> or <code>&ndash;replace</code> remove the current commandline and replace it with the specified string (default)</li>
</ul>
<p>The following options change what part of the commandline is printed or updated:</p>
<ul>
<li><code>-b</code> or <code>&ndash;current-buffer</code> select the entire buffer (default)</li>
<li><code>-j</code> or <code>&ndash;current-job</code> select the current job</li>
<li><code>-p</code> or <code>&ndash;current-process</code> select the current process</li>
<li><code>-t</code> or <code>&ndash;current-token</code> select the current token.</li>
</ul>
<p>The following options change the way <code>commandline</code> prints the current commandline buffer:</p>
<ul>
<li><code>-c</code> or <code>&ndash;cut-at-cursor</code> only print selection up until the current cursor position</li>
<li><code>-o</code> or <code>&ndash;tokenize</code> tokenize the selection and print one string-type token per line</li>
</ul>
<p>If <code>commandline</code> is called during a call to complete a given string using <code>complete -C STRING</code>, <code>commandline</code> will consider the specified string to be the current contents of the command line.</p>
<h2><a class="anchor" id="commandline-example"></a>
Example</h2>
<p><code>commandline -j $history[3]</code> replaces the job under the cursor with the third item from the command line history.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="complete"></a>
complete - edit command specific tab-completions</h1>
<h2><a class="anchor" id="complete-synopsis"></a>
Synopsis</h2>
<p><code>complete (-c|&ndash;command|-p|&ndash;path) COMMAND [(-s|&ndash;short-option) SHORT_OPTION] [(-l|&ndash;long-option|-o|&ndash;old-option) LONG_OPTION [(-a||&ndash;arguments) OPTION_ARGUMENTS] [(-d|&ndash;description) DESCRIPTION] </code></p>
<h2><a class="anchor" id="complete-description"></a>
Description</h2>
<p>For an introduction to specifying completions, see <a href="index.html#completion-own">Writing your own completions</a> in the fish manual.</p>
<ul>
<li><code>COMMAND</code> is the name of the command for which to add a completion</li>
<li><code>SHORT_OPTION</code> is a one character option for the command</li>
<li><code>LONG_OPTION</code> is a multi character option for the command</li>
<li><code>OPTION_ARGUMENTS</code> is parameter containing a space-separated list of possible option-arguments, which may contain subshells</li>
<li><code>DESCRIPTION</code> is a description of what the option and/or option arguments do</li>
<li><code>-C STRING</code> or <code>&ndash;do-complete=STRING</code> makes complete try to find all possible completions for the specified string</li>
<li><code>-e</code> or <code>&ndash;erase</code> implies that the specified completion should be deleted</li>
<li><code>-f</code> or <code>&ndash;no-files</code> specifies that the option specified by this completion may not be followed by a filename</li>
<li><code>-n</code> or <code>&ndash;condition</code> specifies a shell command that must return 0 if the completion is to be used. This makes it possible to specify completions that should only be used in some cases.</li>
<li><code>-o</code> or <code>&ndash;old-option</code> implies that the command uses old long style options with only one dash</li>
<li><code>-p</code> or <code>&ndash;path</code> implies that the string COMMAND is the full path of the command</li>
<li><code>-r</code> or <code>&ndash;require-parameter</code> specifies that the option specified by this completion always must have an option argument, i.e. may not be followed by another option</li>
<li><code>-u</code> or <code>&ndash;unauthoritative</code> implies that there may be more options than the ones specified, and that fish should not assume that options not listed are spelling errors</li>
<li><code>-A</code> or <code>&ndash;authoritative</code> implies that there may be no more options than the ones specified, and that fish should assume that options not listed are spelling errors</li>
<li><code>-x</code> or <code>&ndash;exclusive</code> implies both <code>-r</code> and <code>-f</code></li>
</ul>
<p>Command specific tab-completions in <code>fish</code> are based on the notion of options and arguments. An option is a parameter which begins with a hyphen, such as '-h', '-help' or '&ndash;help'. Arguments are parameters that do not begin with a hyphen. Fish recognizes three styles of options, the same styles as the GNU version of the getopt library. These styles are:</p>
<ul>
<li>Short options, like '-a'. Short options are a single character long, are preceded by a single hyphen and may be grouped together (like '-la', which is equivalent to '-l -a'). Option arguments may be specified in the following parameter ('-w 32') or by appending the option with the value ('-w32').</li>
<li>Old style long options, like '-Wall'. Old style long options can be more than one character long, are preceded by a single hyphen and may not be grouped together. Option arguments are specified in the following parameter ('-ao null').</li>
<li>GNU style long options, like '&ndash;colors'. GNU style long options can be more than one character long, are preceded by two hyphens, and may not be grouped together. Option arguments may be specified in the following parameter ('&ndash;quoting-style shell') or by appending the option with a '=' and the value ('&ndash;quoting-style=shell'). GNU style long options may be abbreviated so long as the abbreviation is unique ('&ndash;h' is equivalent to '&ndash;help' if help is the only long option beginning with an 'h').</li>
</ul>
<p>The options for specifying command name, command path, or command switches may all be used multiple times to specify multiple commands which have the same completion or multiple switches accepted by a command.</p>
<p>When erasing completions, it is possible to either erase all completions for a specific command by specifying <code>complete -e -c COMMAND</code>, or by specifying a specific completion option to delete by specifying either a long, short or old style option.</p>
<h2><a class="anchor" id="complete-example"></a>
Example</h2>
<p>The short style option <code>-o</code> for the <code>gcc</code> command requires that a file follows it. This can be done using writing <code>complete -c gcc -s o -r</code>.</p>
<p>The short style option <code>-d</code> for the <code>grep</code> command requires that one of the strings 'read', 'skip' or 'recurse' is used. This can be specified writing <code>complete -c grep -s d -x -a "read skip
recurse"</code>.</p>
<p>The <code>su</code> command takes any username as an argument. Usernames are given as the first colon-separated field in the file /etc/passwd. This can be specified as: <code>complete -x -c su -d "Username" -a "(cat
/etc/passwd|cut -d : -f 1)" </code>.</p>
<p>The <code>rpm</code> command has several different modes. If the <code>-e</code> or <code>&ndash;erase</code> flag has been specified, <code>rpm</code> should delete one or more packages, in which case several switches related to deleting packages are valid, like the <code>nodeps</code> switch.</p>
<p>This can be written as:</p>
<p><code>complete -c rpm -n "__fish_contains_opt -s e erase" -l nodeps -d "Don't check dependencies"</code></p>
<p>where <code>__fish_contains_opt</code> is a function that checks the commandline buffer for the presence of a specified set of options.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="contains"></a>
contains - test if a word is present in a list</h1>
<h2><a class="anchor" id="contains-synopsis"></a>
Synopsis</h2>
<p><code>contains [OPTIONS] KEY [VALUES...]</code></p>
<h2><a class="anchor" id="contains-description"></a>
Description</h2>
<p><code>contains</code> tests whether the set <code>VALUES</code> contains the string <code>KEY</code>. If so, <code>contains</code> exits with status 0; if not, it exits with status 1.</p>
<p>The following options are available:</p>
<ul>
<li><code>-i</code> or <code>&ndash;index</code> print the word index</li>
<li><code>-h</code> or <code>&ndash;help</code> display this message</li>
</ul>
<h2><a class="anchor" id="contains-example"></a>
Example</h2>
<pre>
for i in ~/bin /usr/local/bin
        if not contains $i $PATH
                set PATH $PATH $i
        end
end
</pre><p>The above code tests if <code>~/bin</code> and <code>/usr/local/bin</code> are in the path and adds them if not.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="continue"></a>
continue - skip the remainder of the current iteration of the current inner loop</h1>
<h2><a class="anchor" id="continue-synopsis"></a>
Synopsis</h2>
<p><code>LOOP_CONSTRUCT; [COMMANDS...;] continue; [COMMANDS...;] end</code></p>
<h2><a class="anchor" id="continue-description"></a>
Description</h2>
<p><code>continue</code> skips the remainder of the current iteration of the current inner loop, such as a <a href="#for">for</a> loop or a <a href="#while">while</a> loop. It is usually added inside of a conditional block such as an <a href="#if">if</a> statement or a <a href="#switch">switch</a> statement.</p>
<h2><a class="anchor" id="continue-example"></a>
Example</h2>
<p>The following code removes all tmp files that do not contain the word smurf.</p>
<pre>
for i in *.tmp
    if grep smurf $i
        continue
    end
    rm $i
end
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="count"></a>
count - count the number of elements of an array</h1>
<h2><a class="anchor" id="count-synopsis"></a>
Synopsis</h2>
<p><code>count $VARIABLE</code></p>
<h2><a class="anchor" id="count-description"></a>
Description</h2>
<p><code>count</code> prints the number of arguments that were passed to it. This is usually used to find out how many elements an environment variable array contains.</p>
<p><code>count</code> does not accept any options, including '-h'.</p>
<p><code>count</code> exits with a non-zero exit status if no arguments were passed to it, and with zero if at least one argument was passed.</p>
<h2><a class="anchor" id="count-example"></a>
Example</h2>
<pre>
count $PATH
</pre><p>returns the number of directories in the users PATH variable.</p>
<pre>
count *.txt
</pre><p>returns the number of files in the current working directory ending with the suffix '.txt'.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="dirh"></a>
dirh - print directory history</h1>
<h2><a class="anchor" id="dirh-synopsis"></a>
Synopsis</h2>
<p><code>dirh</code></p>
<h2><a class="anchor" id="dirh-description"></a>
Description</h2>
<p><code>dirh</code> prints the current directory history. The current position in the history is highlighted using the color defined in the <code>fish_color_history_current</code> environment variable.</p>
<p><code>dirh</code> does not accept any parameters.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="dirs"></a>
dirs - print directory stack</h1>
<h2><a class="anchor" id="dirs-synopsis"></a>
Synopsis</h2>
<p><code>dirs</code></p>
<h2><a class="anchor" id="dirs-description"></a>
Description</h2>
<p><code>dirs</code> prints the current directory stack, as created by the <code><a href="#pushd">pushd</a></code> command.</p>
<p><code>dirs</code> does not accept any parameters.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="echo"></a>
echo - display a line of text</h1>
<h2><a class="anchor" id="echo-synopsis"></a>
Synopsis</h2>
<p><code>echo [STRING]</code></p>
<h2><a class="anchor" id="echo-description"></a>
Description</h2>
<p><code>echo</code> displays a string of text.</p>
<p>The following options are available:</p>
<ul>
<li><code>-n</code>, <code>Do</code> not output a newline</li>
<li><code>-s</code>, <code>Do</code> not separate arguments with spaces</li>
<li><code>-E</code>, <code>Disable</code> interpretation of backslash escapes (default)</li>
<li><code>-e</code>, <code>Enable</code> interpretation of backslash escapes</li>
<li><code>-h</code>, <code>&ndash;help</code> Display this help</li>
</ul>
<h2><a class="anchor" id="echo-escapes"></a>
Escape Sequences</h2>
<p>If <code>-e</code> is used, the following sequences are recognized:</p>
<ul>
<li><code>\\</code> <code>backslash</code> </li>
<li>\a alert (BEL)</li>
<li>\b backspace</li>
<li>\c produce no further output</li>
<li>\e escape</li>
<li>\f form feed</li>
<li>\n new line</li>
<li>\r carriage return</li>
<li>\t horizontal tab</li>
<li>\v vertical tab</li>
<li>\0NNN byte with octal value NNN (1 to 3 digits)</li>
<li>\xHH byte with hexadecimal value HH (1 to 2 digits)</li>
</ul>
<h2><a class="anchor" id="echo-example"></a>
Example</h2>
<p><code>echo 'Hello World'</code> Print hello world to stdout</p>
<p><code>echo -e 'Top\nBottom'</code> Print Top and Bottom on separate lines, using an escape sequence</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="else"></a>
else - execute command if a condition is not met</h1>
<h2><a class="anchor" id="else-synopsis"></a>
Synopsis</h2>
<p><code>if CONDITION; COMMANDS_TRUE...; [else; COMMANDS_FALSE...;] end</code></p>
<h2><a class="anchor" id="else-description"></a>
Description</h2>
<p><code>if</code> will execute the command <code>CONDITION</code>. If the condition's exit status is 0, the commands <code>COMMANDS_TRUE</code> will execute. If it is not 0 and <code>else</code> is given, <code>COMMANDS_FALSE</code> will be executed.</p>
<h2><a class="anchor" id="else-example"></a>
Example</h2>
<p>The following code tests whether a file <code>foo.txt</code> exists as a regular file.</p>
<pre>
if test -f foo.txt
    echo foo.txt exists
else
    echo foo.txt does not exist
end
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="emit"></a>
emit - Emit a generic event</h1>
<h2><a class="anchor" id="block-synopsis"></a>
Synopsis</h2>
<p><code>emit EVENT_NAME [ARGUMENTS...]</code></p>
<h2><a class="anchor" id="emit-description"></a>
Description</h2>
<p><code>emit</code> emits, or fires, an event. Events are delivered to, or caught by, special functions called event handlers. The arguments are passed to the event handlers as function arguments.</p>
<h2><a class="anchor" id="emit-example"></a>
Example</h2>
<p>The following code first defines an event handler for the generic event named 'test_event', and then emits an event of that type.</p>
<pre>function event_test --on-event test_event
    echo event test: $argv
end</pre><pre>emit test_event something
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="end"></a>
end - end a block of commands.</h1>
<h2><a class="anchor" id="end-synopsis"></a>
Synopsis</h2>
<pre>
begin; [COMMANDS...] end
if CONDITION; COMMANDS_TRUE...; [else; COMMANDS_FALSE...;] end
while CONDITION; COMMANDS...; end
for VARNAME in [VALUES...]; COMMANDS...; end
switch VALUE; [case [WILDCARD...]; [COMMANDS...]; ...] end
</pre><h2><a class="anchor" id="end-description"></a>
Description</h2>
<p><code>end</code> ends a block of commands.</p>
<p>For more information, read the documentation for the block constructs, such as <code>if</code>, <code>for</code> and <code>while</code>.</p>
<p>The <code>end</code> command does not change the current exit status.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="eval"></a>
eval - evaluate the specified commands</h1>
<h2><a class="anchor" id="eval-synopsis"></a>
Synopsis</h2>
<p><code>eval [COMMANDS...]</code></p>
<h2><a class="anchor" id="eval-description"></a>
Description</h2>
<p><code>eval</code> evaluates the specified parameters as a command. If more than one parameter is specified, all parameters will be joined using a space character as a separator.</p>
<h2><a class="anchor" id="eval-example"></a>
Example</h2>
<p>The folloing code will call the ls command. Note that <code>fish</code> does not support the use of environment variables as direct commands; <code>eval</code> can be used to work around this.</p>
<pre>
set cmd ls
eval $cmd
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="exec"></a>
exec - execute command in current process</h1>
<h2><a class="anchor" id="exec-synopsis"></a>
Synopsis</h2>
<p><code>exec COMMAND [OPTIONS...]</code></p>
<h2><a class="anchor" id="exec-description"></a>
Description</h2>
<p><code>exec</code> replaces the currently running shell with a new command. On successful completion, <code>exec</code> never returns. <code>exec</code> cannot be used inside a pipeline.</p>
<h2><a class="anchor" id="exec-example"></a>
Example</h2>
<p><code>exec emacs</code> starts up the emacs text editor, and exits <code>fish</code>. When emacs exits, the session will terminate.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="exit"></a>
exit - exit the shell</h1>
<h2><a class="anchor" id="exit-synopsis"></a>
Synopsis</h2>
<p><code>exit [STATUS]</code></p>
<h2><a class="anchor" id="exit-description"></a>
Description</h2>
<p><code>exit</code> causes fish to exit. If <code>STATUS</code> is supplied, it will be converted to an integer and used as the exit code. Otherwise, the exit code will be that of the last command executed.</p>
<p>If exit is called while sourcing a file (using the <a href="#source">.</a> builtin) the rest of the file will be skipped, but the shell itself will not exit.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="fg"></a>
fg - bring job to foreground</h1>
<h2><a class="anchor" id="fg-synopsis"></a>
Synopsis</h2>
<p><code>fg [PID]</code></p>
<h2><a class="anchor" id="fg-description"></a>
Description</h2>
<p><code>fg</code> brings the specified <a href="index.html#syntax-job-control">job</a> to the foreground, resuming it if it is stopped. While a foreground job is executed, fish is suspended. If no job is specified, the last job to be used is put in the foreground. If PID is specified, the job with the specified group ID is put in the foreground.</p>
<p>The PID of the desired process is usually found by using <a href="index.html#expand-process">process expansion</a>.</p>
<h2><a class="anchor" id="fg-example"></a>
Example</h2>
<p><code>fg %1</code> will put the job with job ID 1 in the foreground.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="fish"></a>
fish - the friendly interactive shell</h1>
<h2><a class="anchor" id="fish-synopsis"></a>
Synopsis</h2>
<p>fish [-h] [-v] [-c command] [FILE [ARGUMENTS...]]</p>
<h2><a class="anchor" id="fish-description"></a>
Description</h2>
<p><code>fish</code> is a command-line shell written mainly with interactive use in mind. The full manual is available <a href="index.html">in HTML</a> by using the <a href="#help">help</a> command from inside fish.</p>
<p>The following options are available:</p>
<ul>
<li><code>-c</code> or <code>&ndash;command=COMMANDS</code> evaluate the specified commands instead of reading from the commandline</li>
<li><code>-d</code> or <code>&ndash;debug-level=DEBUG_LEVEL</code> specify the verbosity level of fish. A higher number means higher verbosity. The default level is 1.</li>
<li><code>-h</code> or <code>&ndash;help</code> display help and exit</li>
<li><code>-i</code> or <code>&ndash;interactive</code> specify that fish is to run in interactive mode</li>
<li><code>-l</code> or <code>&ndash;login</code> specify that fish is to run as a login shell</li>
<li><code>-n</code> or <code>&ndash;no-execute</code> do not execute any commands, only perform syntax checking</li>
<li><code>-p</code> or <code>&ndash;profile=PROFILE_FILE</code> when fish exits, output timing information on all executed commands to the specified file</li>
<li><code>-v</code> or <code>&ndash;version</code> display version and exit</li>
</ul>
<p>The fish exit status is generally the exit status of the last foreground command. If fish is exiting because of a parse error, the exit status is 127.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="fish_config"></a>
fish_config - start the web-based configuration interface</h1>
<h2><a class="anchor" id="fish_config-description"></a>
Description</h2>
<p><code>fish_config</code> starts the web-based configuration interface.</p>
<p>The web interface allows you to view your functions, variables and history, and to make changes to your prompt and color configuration.</p>
<p><code>fish_config</code> starts a local web server and then opens a web browser window; when you have finished, close the browser window and then press the Enter key to terminate the configuration session.</p>
<p><code>fish_config</code> optionally accepts name of the initial configuration tab. For e.g. <code>fish_config history</code> will start configuration interface with history tab.</p>
<p>If the <code>BROWSER</code> environment variable is set, it will be used as the name of the web browser to open instead of the system default.</p>
<h2><a class="anchor" id="fish_config-example"></a>
Example</h2>
<p><code>fish_config</code> opens a new web browser window and allows you to configure certain fish settings.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="fish_indent"></a>
fish_indent - indenter and prettifier</h1>
<h2><a class="anchor" id="fish_indent-synopsis"></a>
Synopsis</h2>
<p><code>fish_indent [options]</code></p>
<h2><a class="anchor" id="fish_indent-description"></a>
Description</h2>
<p><code>fish_indent</code> is used to indent a piece of fish code. <code>fish_indent</code> reads commands from standard input and outputs them to standard output.</p>
<p>The following options are available:</p>
<ul>
<li><code>-h</code> or <code>&ndash;help</code> displays this help message and then exits</li>
<li><code>-i</code> or <code>&ndash;no-indent</code> do not indent commands</li>
<li><code>-v</code> or <code>&ndash;version</code> displays the current fish version and then exits</li>
</ul>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="fish_pager"></a>
fish_pager - internal command used by fish</h1>
<h2><a class="anchor" id="fish_pager-description"></a>
Description</h2>
<p><code>fish_pager</code> is used internally by fish. It should not be used by other commands, as its interface is liable to change in the future.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="fish_prompt"></a>
fish_prompt - define the appearance of the command line prompt</h1>
<h2><a class="anchor" id="fish_prompt-synopsis"></a>
Synopsis</h2>
<pre>function fish_prompt
    ...
end</pre><h2><a class="anchor" id="fish_prompt-description"></a>
Description</h2>
<p>By defining the <code>fish_prompt</code> function, the user can choose a custom prompt. The <code>fish_prompt</code> function is executed when the prompt is to be shown, and the output is used as a prompt.</p>
<p>The exit status of commands within <code>fish_prompt</code> will not modify the value of <a href="index.html#variables-status">$status</a> outside of the <code>fish_prompt</code> function.</p>
<p><code>fish</code> ships with a number of example prompts that can be chosen with the <code>fish_config</code> command.</p>
<h2><a class="anchor" id="fish_prompt-example"></a>
Example</h2>
<p>A simple prompt:</p>
<pre>
function fish_prompt -d "Write out the prompt"
        printf '%s@%s%s%s%s&gt; ' (whoami) (hostname|cut -d . -f 1) (set_color $fish_color_cwd) (prompt_pwd) (set_color normal)
end
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="fish_right_prompt"></a>
fish_right_prompt - define the appearance of the right-side command line prompt</h1>
<h2><a class="anchor" id="fish_right_prompt-synopsis"></a>
Synopsis</h2>
<pre>function fish_right_prompt
    ...
end</pre><h2><a class="anchor" id="fish_right_prompt-description"></a>
Description</h2>
<p><code>fish_right_prompt</code> is similar to <code>fish_prompt</code>, except that it appears on the right side of the terminal window.</p>
<p>Multiple lines are not supported in <code>fish_right_prompt</code>.</p>
<h2><a class="anchor" id="fish_prompt-example"></a>
Example</h2>
<p>A simple right prompt:</p>
<pre>
function fish_right_prompt -d "Write out the right prompt"
    date "+%m/%d/%y"
end
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="fish_update_completions"></a>
fish_update_completions - Update completions using manual pages</h1>
<h2><a class="anchor" id="fish_update_completions-description"></a>
Description</h2>
<p><code>fish_update_completions</code> parses manual pages installed on the system, and attempts to create completion files in the <code>fish</code> configuration directory.</p>
<p>This does not overwrite custom completions.</p>
<p>There are no parameters for <code>fish_update_completions</code>.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="fishd"></a>
fishd - universal variable daemon</h1>
<h2><a class="anchor" id="fishd-synopsis"></a>
Synopsis</h2>
<p><code>fishd [(-h|&ndash;help|-v|&ndash;version)]</code></p>
<h2><a class="anchor" id="fishd-description"></a>
Description</h2>
<p>The <code>fishd</code> daemon is used to load, save and distribute universal variable information. <code>fish</code> automatically connects to <code>fishd</code> via a socket on startup.</p>
<p><code>fishd</code> is started and stopped automatically.</p>
<p>The following options are available if starting <code>fishd</code> manually:</p>
<ul>
<li><code>-h</code> or <code>&ndash;help</code> displays this help message and then exits</li>
<li><code>-v</code> or <code>&ndash;version</code> displays the current fish version and then exits</li>
</ul>
<h2><a class="anchor" id="fishd-files"></a>
Files</h2>
<ul>
<li><p class="startli"><code>~/</code>.config/fish/fishd.MACHINE_ID - permanent storage location for universal variable data. <code>MACHINE_ID</code> is generally based on the machine's MAC address.</p>
<p class="startli">The data is stored as a set of <code>set</code> and <code>set_export</code> commands such as would be parsed by fishd. The file must always be stored in YAML format. If an instance of fishd is running (which is generally the case), manual modifications to <code>~/</code>.fishd.MACHINE_ID will be lost. Do NOT edit this file manually!</p>
</li>
<li><code>/tmp/fishd</code>.socket.USERNAME - the socket which fishd uses to communicate with all clients.</li>
<li>/tmp/fishd.log.USERNAME - the fishd log file</li>
</ul>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="for"></a>
for - perform a set of commands multiple times.</h1>
<h2><a class="anchor" id="for-synopsis"></a>
Synopsis</h2>
<p><code>for VARNAME in [VALUES...]; COMMANDS...; end</code></p>
<h2><a class="anchor" id="for-description"></a>
Description</h2>
<p><code>for</code> is a loop construct. It will perform the commands specified by <code>COMMANDS</code> multiple times. On each iteration, the environment variable specified by <code>VARNAME</code> is assigned a new value from <code>VALUES</code>. If <code>VALUES</code> is empty, <code>COMMANDS</code> will not be executed at all.</p>
<h2><a class="anchor" id="for-example"></a>
Example</h2>
<p>The command</p>
<p><code>for i in foo bar baz; echo $i; end</code></p>
<p>would output:</p>
<pre>
foo
bar
baz
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="funced"></a>
funced - edit a function interactively</h1>
<h2><a class="anchor" id="funced-synopsis"></a>
Synopsis</h2>
<p><code>funced [OPTIONS] NAME</code></p>
<h2><a class="anchor" id="funced-description"></a>
Description</h2>
<p><code>funced</code> provides an interface to edit the definition of the function <code>NAME</code>.</p>
<p>If the <code>$EDITOR</code> environment variable is set, it will be used as the program to edit the function. Otherwise, a built-in editor will be used.</p>
<p>If there is no function called <code>NAME</code> a new function will be created with the specified name</p>
<ul>
<li><code>-e command</code> or <code>&ndash;editor command</code> Open the function body inside the text editor given by the command (for example, "vi"). The command 'fish' will use the built-in editor.</li>
<li><code>-i</code> or <code>&ndash;interactive</code> Open function body in the built-in editor.</li>
</ul>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="funcsave"></a>
funcsave - save the definition of a function to the user's autoload directory</h1>
<h2><a class="anchor" id="funcsave-synopsis"></a>
Synopsis</h2>
<p><code>funcsave FUNCTION_NAME</code></p>
<h2><a class="anchor" id="funcsave-description"></a>
Description</h2>
<p><code>funcsave</code> saves the current definition of a function to a file in the fish configuration directory. This function will be automatically loaded by current and future fish sessions. This can be useful if you have interactively created a new function and wish to save it for later use.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="function"></a>
function - create a function</h1>
<h2><a class="anchor" id="function-synopsis"></a>
Synopsis</h2>
<p><code>function [OPTIONS] NAME; BODY; end </code></p>
<h2><a class="anchor" id="function-description"></a>
Description</h2>
<p><code>function</code> creates a new function <code>NAME</code> with the body <code>BODY</code>.</p>
<p>A function is a list of commands that will be executed when the name of the function is given as a command.</p>
<p>The following options are available:</p>
<ul>
<li><code>-a NAMES</code> or <code>&ndash;argument-names NAMES</code> assigns the value of successive command-line arguments to the names given in NAMES.</li>
<li><code>-d DESCRIPTION</code> or <code>&ndash;description=DESCRIPTION</code> is a description of what the function does, suitable as a completion description.</li>
<li><code>-e</code> or <code>&ndash;on-event EVENT_NAME</code> tells fish to run this function when the specified named event is emitted. Fish internally generates named events e.g. when showing the prompt.</li>
<li><code>-j PID</code> or <code> &ndash;on-job-exit PID</code> tells fish to run this function when the job with group ID PID exits. Instead of PID, the string 'caller' can be specified. This is only legal when in a command substitution, and will result in the handler being triggered by the exit of the job which created this command substitution.</li>
<li><code>-p PID</code> or <code> &ndash;on-process-exit PID</code> tells fish to run this function when the fish child process with process ID PID exits.</li>
<li><code>-s</code> or <code>&ndash;on-signal SIGSPEC</code> tells fish to run this function when the signal SIGSPEC is delivered. SIGSPEC can be a signal number, or the signal name, such as SIGHUP (or just HUP).</li>
<li><code>-S</code> or <code>&ndash;no-scope-shadowing</code> allows the function to access the variables of calling functions. Normally, any variables inside the function that have the same name as variables from the calling function are "shadowed", and their contents is independent of the calling function.</li>
<li><code>-v</code> or <code>&ndash;on-variable VARIABLE_NAME</code> tells fish to run this function when the variable VARIABLE_NAME changes value.</li>
</ul>
<p>If the user enters any additional arguments after the function, they are inserted into the environment <a href="index.html#variables-arrays">variable array</a> <code>$argv</code>. If the <code>&ndash;argument-names</code> option is provided, the arguments are also assigned to names specified in that option.</p>
<p>By using one of the event handler switches, a function can be made to run automatically at specific events. The user may generate new events using the <a href="#emit">emit</a> builtin. Fish generates the following named events:</p>
<ul>
<li><code>fish_prompt</code>, which is emitted whenever a new fish prompt is about to be displayed.</li>
<li><code>fish_command_not_found</code>, which is emitted whenever a command lookup failed.</li>
</ul>
<h2><a class="anchor" id="function-example"></a>
Example</h2>
<pre>
function ll
        ls -l $argv
end
</pre><p>will run the <code>ls</code> command, using the <code>-l</code> option, while passing on any additional files and switches to <code>ls</code>.</p>
<pre>
function mkdir -d "Create a directory and set CWD"
        command mkdir $argv
        if test $status = 0
                switch $argv[(count $argv)]
                        case '-*'</pre><pre>                        case '*'
                                cd $argv[(count $argv)]
                                return
                end
        end
end
</pre><p>will run the mkdir command, and if it is successful, change the current working directory to the one just created.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="functions"></a>
functions - print or erase functions</h1>
<h2><a class="anchor" id="function-synopsis"></a>
Synopsis</h2>
<pre>functions [-n]
functions -c OLDNAME NEWNAME
functions -d DESCRIPTION FUNCTION
functions [-eq] FUNCTIONS...</pre><h2><a class="anchor" id="functions-description"></a>
Description</h2>
<p><code>functions</code> prints or erases functions.</p>
<p>The following options are available:</p>
<ul>
<li><code>-a</code> or <code>&ndash;all</code> lists all functions, even those whose name start with an underscore.</li>
<li><code>-c OLDNAME NEWNAME</code> or <code>&ndash;copy OLDNAME NEWNAME</code> creates a new function named NEWNAME, using the definition of the OLDNAME function.</li>
<li><code>-d DESCRIPTION</code> or <code>&ndash;description=DESCRIPTION</code> changes the description of this function.</li>
<li><code>-e</code> or <code>&ndash;erase</code> causes the specified functions to be erased.</li>
<li><code>-h</code> or <code>&ndash;help</code> displays a help message and exits.</li>
<li><code>-n</code> or <code>&ndash;names</code> lists the names of all defined functions.</li>
<li><code>-q</code> or <code>&ndash;query</code> tests if the specified functions exist.</li>
</ul>
<p>The default behavior of <code>functions</code>, when called with no arguments, is to print the names of all defined functions. Unless the <code>-a</code> option is given, no functions starting with underscores are not included in the output.</p>
<p>If any non-option parameters are given, the definition of the specified functions are printed.</p>
<p>Automatically loaded functions cannot be removed using <code>functions -e</code>. Either remove the definition file or change the $fish_function_path variable to remove autoloaded functions.</p>
<p>Copying a function using <code>-c</code> copies only the body of the function, and does not attach any event notifications from the original function.</p>
<p>Only one function's description can be changed in a single invocation of <code>functions -d</code>.</p>
<p>The exit status of <code>functions</code> is the number of functions specified in the argument list that do not exist, which can be used in concert with the <code>-q</code> option.</p>
<h2><a class="anchor" id="functions-example"></a>
Examples</h2>
<p><code>functions -n</code> displays a list of currently-defined functions.</p>
<p><code>functions -c foo bar</code> copies the <code>foo</code> function to a new function called <code>bar</code>.</p>
<p><code>functions -e bar</code> erases the function <code>bar</code>.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="help"></a>
help - display fish documentation</h1>
<h2><a class="anchor" id="help-synopsis"></a>
Synopsis</h2>
<p><code>help [SECTION]</code></p>
<h2><a class="anchor" id="help-description"></a>
Description</h2>
<p><code>help</code> displays the fish help documentation.</p>
<p>If a <code>SECTION</code> is specified, the help for that command is shown.</p>
<p>If the BROWSER environment variable is set, it will be used to display the documentation. Otherwise, fish will search for a suitable browser.</p>
<p>Note that most builtin commands display their help in the terminal when given the <code>&ndash;help</code> option.</p>
<h2><a class="anchor" id="help-example"></a>
Example</h2>
<p><code>help fg</code> shows the documentation for the <code>fg</code> builtin.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="history"></a>
history - Show and manipulate command history</h1>
<h2><a class="anchor" id="history-synopsis"></a>
Synopsis</h2>
<pre>
history (--save | --clear)
history (--search | --delete ) (--prefix "prefix string" | --contains "search string")
</pre><h2><a class="anchor" id="history-description"></a>
Description</h2>
<p><code>history</code> is used to list, search and delete the history of commands used.</p>
<p>The following options are available:</p>
<ul>
<li><code>&ndash;save</code> saves all changes in the history file. The shell automatically saves the history file; this option is provided for internal use.</li>
<li><code>&ndash;clear</code> clears the history file. A prompt is displayed before the history is erased.</li>
<li><code>&ndash;search</code> returns history items in keeping with the <code>&ndash;prefix</code> or <code>&ndash;contains</code> options.</li>
<li><code>&ndash;delete</code> deletes history items.</li>
<li><code>&ndash;prefix</code> searches or deletes items in the history that begin with the specified text string.</li>
<li><code>&ndash;contains</code> searches or deletes items in the history that contain the specified text string.</li>
</ul>
<p>If <code>&ndash;search</code> is specified without <code>&ndash;contains</code> or <code>&ndash;prefix</code>, <code>&ndash;contains</code> will be assumed.</p>
<p>If <code>&ndash;delete</code> is specified without <code>&ndash;contains</code> or <code>&ndash;prefix</code>, only a history item which exactly matches the parameter will be erased. No prompt will be given. If <code>&ndash;delete</code> is specified with either of these parameters, an interactive prompt will be displayed before any items are deleted.</p>
<h2><a class="anchor" id="history-examples"></a>
Example</h2>
<p><code>history &ndash;clear</code> deletes all history items</p>
<p><code>history &ndash;search &ndash;contains "foo"</code> outputs a list of all previous commands containing the string "foo".</p>
<p><code>history &ndash;delete &ndash;prefix "foo"</code> interactively deletes the record of previous commands which start with "foo".</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="if"></a>
if - conditionally execute a command</h1>
<h2><a class="anchor" id="if-synopsis"></a>
Synopsis</h2>
<p><code>if CONDITION; COMMANDS_TRUE...; [else if CONDITION2; COMMANDS_TRUE2...;] [else; COMMANDS_FALSE...;] end</code></p>
<h2><a class="anchor" id="if-description"></a>
Description</h2>
<p><code>if</code> will execute the command <code>CONDITION</code>. If the condition's exit status is 0, the commands <code>COMMANDS_TRUE</code> will execute. If the exit status is not 0 and <code>else</code> is given, <code>COMMANDS_FALSE</code> will be executed.</p>
<p>In order to use the exit status of multiple commands as the condition of an if block, use <a href="#begin"><code>begin; ...; end</code></a> and the short circuit commands <a href="commands.html#and"><code>and</code></a> and <a href="commands.html#or"><code>or</code></a>.</p>
<p>The exit status of the last foreground command to exit can always be accessed using the <a href="index.html#variables-status">$status</a> variable.</p>
<h2><a class="anchor" id="if-example"></a>
Example</h2>
<pre>
if test -f foo.txt
        echo foo.txt exists
else if test -f bar.txt
        echo bar.txt exists
else
        echo foo.txt and bar.txt do not exist
end
</pre><p>will print <code>foo.txt exists</code> if the file foo.txt exists and is a regular file, otherwise it will print <code>bar.txt exists</code> if the file bar.txt exists and is a regular file, otherwise it will print <code>foo.txt and bar.txt do not exist</code>.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="isatty"></a>
isatty - test if the specified file descriptor is a tty</h1>
<h2><a class="anchor" id="isatty-synopsis"></a>
Synopsis</h2>
<p><code>isatty [FILE DESCRIPTOR]</code></p>
<h2><a class="anchor" id="isatty-description"></a>
Description</h2>
<p><code>isatty</code> tests if a file descriptor is a tty.</p>
<p><code>FILE DESCRIPTOR</code> may be either the number of a file descriptor, or one of the strings <code>stdin</code>, <code>stdout</code> and <code>stderr</code>.</p>
<p>If the specified file descriptor is a tty, the exit status of the command is zero. Otherwise, it is non-zero.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="jobs"></a>
jobs - print currently running jobs</h1>
<h2><a class="anchor" id="jobs-synopsis"></a>
Synopsis</h2>
<p><code>jobs [OPTIONS] [PID]</code></p>
<h2><a class="anchor" id="jobs-description"></a>
Description</h2>
<p><code>jobs</code> prints a list of the currently running <a href="index.html#syntax-job-control">jobs</a> and their status.</p>
<p>jobs accepts the following switches:</p>
<ul>
<li><code>-c</code> or <code>&ndash;command</code> prints the command name for each process in jobs.</li>
<li><code>-g</code> or <code>&ndash;group</code> only prints the group ID of each job.</li>
<li><code>-h</code> or <code>&ndash;help</code> displays a help message and exits.</li>
<li><code>-l</code> or <code>&ndash;last</code> prints only the last job to be started.</li>
<li><code>-p</code> or <code>&ndash;pid</code> prints the process ID for each process in all jobs.</li>
</ul>
<p>On systems that supports this feature, jobs will print the CPU usage of each job since the last command was executed. The CPU usage is expressed as a percentage of full CPU activity. Note that on multiprocessor systems, the total activity may be more than 100%.</p>
<h2><a class="anchor" id="jobs-example"></a>
Example</h2>
<p><code>jobs</code> outputs a summary of the current jobs.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
<h1><a class="anchor" id="math"></a>
math - Perform mathematics calculations</h1>
<h2><a class="anchor" id="math-synopsis"></a>
Synopsis</h2>
<p><code>math EXPRESSION</code></p>
<h2><a class="anchor" id="math-description"></a>
Description</h2>
<p><code>math</code> is used to perform mathematical calculations. It is a very thin wrapper for the bc program, which makes it possible to specify an expression from the command line without using non-standard extensions or a pipeline.</p>
<p>For a description of the syntax supported by math, see the manual for the bc program. Keep in mind that parameter expansion takes place on any expressions before they are evaluated. This can be very useful in order to perform calculations involving environment variables or the output of command substitutions, but it also means that parenthesis have to be escaped.</p>
<h2><a class="anchor" id="math-example"></a>
Examples</h2>
<p><code>math 1+1</code> outputs 2.</p>
<p><code>math $status-128</code> outputs the numerical exit status of the last command minus 128.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="mimedb"></a>
mimedb - lookup file information via the mime database</h1>
<h2><a class="anchor" id="mimedb-synopsis"></a>
Synopsis</h2>
<p><code>mimedb [OPTIONS] FILES...</code></p>
<h2><a class="anchor" id="mimedb-description"></a>
Description</h2>
<p><code>mimedb</code> queries the MIME type database and the <code></code>.desktop files installed on the system in order to find information on the files listed in <code>FILES</code>. The information that <code>mimedb</code> can retrieve includes the MIME type for a file, a description of the type, and the default action that can be performed on the file. <code>mimedb</code> can also be used to launch the default action for this file.</p>
<p>The following options are available:</p>
<ul>
<li><code>-t</code>, <code>&ndash;input-file-data</code> determines the files' type both by their filename and by their contents (default behaviour).</li>
<li><code>-f</code>, <code>&ndash;input-filename</code> determines the files' type by their filename.</li>
<li><code>-i</code>, <code>&ndash;input-mime</code> specifies that the arguments are not files, but MIME types.</li>
<li><code>-m</code>, <code>&ndash;output-mime</code> outputs the MIME type of each file (default behaviour).</li>
<li><code>-f</code>, <code>&ndash;output-description</code> outputs the description of each MIME type.</li>
<li><code>-a</code>, <code>&ndash;output-action</code> outputs the default action of each MIME type.</li>
<li><code>-l</code>, <code>&ndash;launch</code> launches the default action for the specified files.</li>
<li><code>-h</code>, <code>&ndash;help</code> displays a help message and exit.</li>
<li><code>-v</code>, <code>&ndash;version</code> displays the version number and exits.</li>
</ul>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="nextd"></a>
nextd - move forward through directory history</h1>
<h2><a class="anchor" id="nextd-synopsis"></a>
Synopsis</h2>
<p><code>nextd [-l | &ndash;list] [POS]</code></p>
<h2><a class="anchor" id="nextd-description"></a>
Description</h2>
<p><code>nextd</code> moves forwards <code>POS</code> positions in the history of visited directories; if the end of the history has been hit, a warning is printed.</p>
<p>If the <code>-l&gt;</code> or <code>&ndash;list</code> flag is specified, the current directory history is also displayed.</p>
<h2><a class="anchor" id="nextd-example"></a>
Example</h2>
<div class="fragment"><div class="line">cd /usr/src</div>
<div class="line"><span class="preprocessor"># Working directory is now /usr/src</span></div>
<div class="line"><span class="preprocessor"></span>cd /usr/src/fish-shell</div>
<div class="line"><span class="preprocessor"># Working directory is now /usr/src/fish-shell</span></div>
<div class="line"><span class="preprocessor"></span>prevd</div>
<div class="line"><span class="preprocessor"># Working directory is now /usr/src</span></div>
<div class="line"><span class="preprocessor"></span>nextd</div>
<div class="line"><span class="preprocessor"># Working directory is now /usr/src/fish-shell&lt;/pre&gt;</span></div>
</div><!-- fragment --><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="not"></a>
not - negate the exit status of a job</h1>
<h2><a class="anchor" id="not-synopsis"></a>
Synopsis</h2>
<p><code>not COMMAND [OPTIONS...]</code></p>
<h2><a class="anchor" id="not-description"></a>
Description</h2>
<p><code>not</code> negates the exit status of another command. If the exit status is zero, <code>not</code> returns 1. Otherwise, <code>not</code> returns 0.</p>
<h2><a class="anchor" id="not-example"></a>
Example</h2>
<p>The following code reports an error and exits if no file named spoon can be found.</p>
<pre>
if not test -f spoon
        echo There is no spoon
        exit 1
end
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="open"></a>
open - open file in its default application</h1>
<h2><a class="anchor" id="open-synopsis"></a>
Synopsis</h2>
<p><code>open FILES...</code></p>
<h2><a class="anchor" id="open-description"></a>
Description</h2>
<p><code>open</code> opens a file in its default application, using the <code>xdg-open</code> command if it exists, or else the <a href="commands.html#mimedb">mimedb</a> command.</p>
<h2><a class="anchor" id="open-example"></a>
Example</h2>
<p><code>open *.txt</code> opens all the text files in the current directory using your system's default text editor.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="or"></a>
or - conditionally execute a command</h1>
<h2><a class="anchor" id="or-synopsis"></a>
Synopsis</h2>
<p><code>COMMAND1; or COMMAND2</code></p>
<h2><a class="anchor" id="or-description"></a>
Description</h2>
<p><code>or</code> is used to execute a command if the current exit status (as set by the last previous command) is not 0.</p>
<p><code>or</code> does not change the current exit status.</p>
<p>The exit status of the last foreground command to exit can always be accessed using the <a href="index.html#variables-status">$status</a> variable.</p>
<h2><a class="anchor" id="or-example"></a>
Example</h2>
<p>The following code runs the <code>make</code> command to build a program. If the build succeeds, the program is installed. If either step fails, <code>make clean</code> is run, which removes the files created by the build process.</p>
<pre>
make; and make install; or make clean
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="popd"></a>
popd - move through directory stack</h1>
<h2><a class="anchor" id="popd-synopsis"></a>
Synopsis</h2>
<p><code>popd</code></p>
<h2><a class="anchor" id="popd-description"></a>
Description</h2>
<p><code>popd</code> removes the top directory from the directory stack and changes the working directory to the new top directory. Use <a href="#pushd"><code>pushd</code></a> to add directories to the stack.</p>
<h2><a class="anchor" id="popd-example"></a>
Example</h2>
<pre>
pushd /usr/src
# Working directory is now /usr/src
# Directory stack contains /usr/src
pushd /usr/src/fish-shell
# Working directory is now /usr/src/fish-shell
# Directory stack contains /usr/src /usr/src/fish-shell
popd
# Working directory is now /usr/src
# Directory stack contains /usr/src
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="prevd"></a>
prevd - move backward through directory history</h1>
<h2><a class="anchor" id="prevd-synopsis"></a>
Synopsis</h2>
<p><code>prevd [-l | &ndash;list] [POS]</code></p>
<h2><a class="anchor" id="prevd-description"></a>
Description</h2>
<p><code>prevd</code> moves backwards <code>POS</code> positions in the history of visited directories; if the beginning of the history has been hit, a warning is printed.</p>
<p>If the <code>-l</code> or <code>&ndash;list</code> flag is specified, the current history is also displayed.</p>
<h2><a class="anchor" id="prevd-example"></a>
Example</h2>
<div class="fragment"><div class="line">cd /usr/src</div>
<div class="line"><span class="preprocessor"># Working directory is now /usr/src</span></div>
<div class="line"><span class="preprocessor"></span>cd /usr/src/fish-shell</div>
<div class="line"><span class="preprocessor"># Working directory is now /usr/src/fish-shell</span></div>
<div class="line"><span class="preprocessor"></span>prevd</div>
<div class="line"><span class="preprocessor"># Working directory is now /usr/src</span></div>
<div class="line"><span class="preprocessor"></span>nextd</div>
<div class="line"><span class="preprocessor"># Working directory is now /usr/src/fish-shell&lt;/pre&gt;</span></div>
</div><!-- fragment --><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="psub"></a>
psub - perform process substitution</h1>
<h2><a class="anchor" id="psub-synopsis"></a>
Synopsis</h2>
<p><code>COMMAND1 (COMMAND2|psub [-f]) </code></p>
<h2><a class="anchor" id="psub-description"></a>
Description</h2>
<p>Posix shells feature a syntax that is a mix between command substitution and piping, called process substitution. It is used to send the output of a command into the calling command, much like command substitution, but with the difference that the output is not sent through commandline arguments but through a named pipe, with the filename of the named pipe sent as an argument to the calling program. <code>psub</code> combined with a regular command substitution provides the same functionality.</p>
<p>If the <code>-f</code> or <code>&ndash;file</code> switch is given to <code>psub</code>, <code>psub</code> will use a regular file instead of a named pipe to communicate with the calling process. This will cause <code>psub</code> to be significantly slower when large amounts of data are involved, but has the advantage that the reading process can seek in the stream.</p>
<h2><a class="anchor" id="psub-example"></a>
Example</h2>
<p><code>diff (sort a.txt|psub) (sort b.txt|psub)</code> shows the difference between the sorted versions of files a.txt and b.txt.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="pushd"></a>
pushd - push directory to directory stack</h1>
<h2><a class="anchor" id="pushd-synopsis"></a>
Synopsis</h2>
<p><code>pushd [DIRECTORY]</code></p>
<h2><a class="anchor" id="pushd-description"></a>
Description</h2>
<p>The <code>pushd</code> function adds <code>DIRECTORY</code> to the top of the directory stack and makes it the current working directory. <a href="#popd"><code>popd</code></a> will pop it off and return to the original directory.</p>
<h2><a class="anchor" id="pushd-example"></a>
Example</h2>
<pre>
pushd /usr/src
# Working directory is now /usr/src
# Directory stack contains /usr/src
pushd /usr/src/fish-shell
# Working directory is now /usr/src/fish-shell
# Directory stack contains /usr/src /usr/src/fish-shell
popd
# Working directory is now /usr/src
# Directory stack contains /usr/src
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="pwd"></a>
pwd - output the current working directory</h1>
<h2><a class="anchor" id="pwd-synopsis"></a>
Synopsis</h2>
<p><code>pwd</code></p>
<h2><a class="anchor" id="pwd-description"></a>
Description</h2>
<p><code>pwd</code> outputs (prints) the current working directory.</p>
<p>Note that <code>fish</code> always resolves symbolic links in the current directory path.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="random"></a>
random - generate random number</h1>
<h2><a class="anchor" id="random-synopsis"></a>
Synopsis</h2>
<p><code>random [SEED]</code></p>
<h2><a class="anchor" id="random-description"></a>
Description</h2>
<p><code>random</code> outputs a random number from 0 to 32766, inclusive.</p>
<p>If a <code>SEED</code> value is provided, it is used to seed the random number generator, and no output will be produced. This can be useful for debugging purposes, where it can be desirable to get the same random number sequence multiple times. If the random number generator is called without first seeding it, the current time will be used as the seed.</p>
<h2><a class="anchor" id="random-example"></a>
Example</h2>
<p>The following code will count down from a random number to 1:</p>
<pre>
for i in (seq (random) -1 1)
        echo $i
        sleep
end
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="read"></a>
read - read line of input into variables</h1>
<h2><a class="anchor" id="read-synopsis"></a>
Synopsis</h2>
<p><code>read [OPTIONS] [VARIABLES...]</code></p>
<h2><a class="anchor" id="read-description"></a>
Description</h2>
<p><code>read</code> reads one line from standard input and stores the result in one or more environment variables.</p>
<p>The following options are available:</p>
<ul>
<li><code>-c CMD</code> or <code>&ndash;command=CMD</code> sets the initial string in the interactive mode command buffer to <code>CMD</code>.</li>
<li><code>-g</code> or <code>&ndash;global</code> makes the variables global (default behaviour).</li>
<li><code>-l</code> or <code>&ndash;local</code> makes the variables local.</li>
<li><code>-m NAME</code> or <code>&ndash;mode-name=NAME</code> specifies that the name NAME should be used to save/load the history file. If NAME is fish, the regular fish history will be available.</li>
<li><code>-p PROMPT_CMD</code> or <code>&ndash;prompt=PROMPT_CMD</code> uses the output of the shell command <code>PROMPT_CMD</code> as the prompt for the interactive mode. The default prompt command is <code>set_color green; echo read; set_color normal; echo "&gt; "</code>.</li>
<li><code>-s</code> or <code>&ndash;shell</code> enables syntax highlighting, tab completions and command termination suitable for entering shellscript code in the interactive mode.</li>
<li><code>-u</code> or <code>&ndash;unexport</code> prevents the variables from being exported to child processes (default behaviour).</li>
<li><code>-U</code> or <code>&ndash;universal</code> causes the specified environment variable to be made universal.</li>
<li><code>-x</code> or <code>&ndash;export</code> exports the variables to child processes.</li>
</ul>
<p><code>read</code> reads a single line of input from stdin, breaks it into tokens based on the <code>IFS</code> environment variable, and then assigns one token to each variable specified in <code>VARIABLES</code>. If there are more tokens than variables, the complete remainder is assigned to the last variable.</p>
<h2><a class="anchor" id="read-example"></a>
Example</h2>
<p>The following code stores the value 'hello' in the environment variable <code>$foo</code>.</p>
<p><code>echo hello|read foo</code></p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="return"></a>
return - stop the current inner function</h1>
<h2><a class="anchor" id="return-synopsis"></a>
Synopsis</h2>
<p><code>function NAME; [COMMANDS...;] return [STATUS]; [COMMANDS...;] end</code></p>
<h2><a class="anchor" id="return-description"></a>
Description</h2>
<p><code>return</code> halts a currently running function. The exit status is set to <code>STATUS</code> if it is given.</p>
<p>It is usually added inside of a conditional block such as an <a href="#if">if</a> statement or a <a href="#switch">switch</a> statement to conditionally stop the executing function and return to the caller, but it can also be used to specify the exit status of a function.</p>
<h2><a class="anchor" id="return-example"></a>
Example</h2>
<p>The following code is an implementation of the false command as a fish function</p>
<pre>
function false
        return 1
end
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="set"></a>
set - display and change environment variables.</h1>
<h2><a class="anchor" id="set-synopsis"></a>
Synopsis</h2>
<pre>
set [SCOPE_OPTIONS]
set [OPTIONS] VARIABLE_NAME VALUES...
set [OPTIONS] VARIABLE_NAME[INDICES]... VALUES...
set (-q | --query) [SCOPE_OPTIONS] VARIABLE_NAMES...
set (-e | --erase) [SCOPE_OPTIONS] VARIABLE_NAME
set (-e | --erase) [SCOPE_OPTIONS] VARIABLE_NAME[INDICES]...
</pre><h2><a class="anchor" id="set-description"></a>
Description</h2>
<p><code>set</code> manipulates <a href="index.html#variables">environment variables</a>.</p>
<p>If set is called with no arguments, the names and values of all environment variables are printed. If some of the scope or export flags have been given, only the variables matching the specified scope are printed.</p>
<p>With both variable names and values provided, <code>set</code> assigns the variable <code>VARIABLE_NAME</code> the values <code>VALUES...</code>.</p>
<p>The following options control variable scope:</p>
<ul>
<li><code>-l</code> or <code>&ndash;local</code> forces the specified environment variable to be given a scope that is local to the current block, even if a variable with the given name exists and is non-local</li>
<li><code>-g</code> or <code>&ndash;global</code> causes the specified environment variable to be given a global scope. Non-global variables disappear when the block they belong to ends</li>
<li><code>-U</code> or <code>&ndash;universal</code> causes the specified environment variable to be given a universal scope. If this option is supplied, the variable will be shared between all the current users fish instances on the current computer, and will be preserved across restarts of the shell.</li>
<li><code>-n</code> or <code>&ndash;names</code> List only the names of all defined variables, not their value</li>
<li><code>-u</code> or <code>&ndash;unexport</code> causes the specified environment not to be exported to child processes</li>
<li><code>-x</code> or <code>&ndash;export</code> causes the specified environment variable to be exported to child processes</li>
</ul>
<p>The following options are available:</p>
<ul>
<li><code>-e</code> or <code>&ndash;erase</code> causes the specified environment variable to be erased</li>
<li><code>-q</code> or <code>&ndash;query</code> test if the specified variable names are defined. Does not output anything, but the builtins exit status is the number of variables specified that were not defined.</li>
<li><code>-L</code> or <code>&ndash;long</code> do not abbreviate long values when printing set variables</li>
</ul>
<p>If a variable is set to more than one value, the variable will be an array with the specified elements. If a variable is set to zero elements, it will become an array with zero elements.</p>
<p>If the variable name is one or more array elements, such as <code>PATH[1 3 7]</code>, only those array elements specified will be changed. When array indices are specified to <code>set</code>, multiple arguments may be used to specify additional indexes, e.g. <code>set PATH[1] PATH[4] /bin /sbin</code>. If you specify a negative index when expanding or assigning to an array variable, the index will be calculated from the end of the array. For example, the index -1 means the last index of an array.</p>
<p>The scoping rules when creating or updating a variable are:</p>
<ol type="1">
<li>If a variable is explicitly set to either universal, global or local, that setting will be honored. If a variable of the same name exists in a different scope, that variable will not be changed.</li>
<li>If a variable is not explicitly set to be either universal, global or local, but has been previously defined, the previous variable scope is used.</li>
<li>If a variable is not explicitly set to be either universal, global or local and has never before been defined, the variable will be local to the currently executing function. Note that this is different from using the <code>-l</code> or <code>&ndash;local</code> flag. If one of those flags is used, the variable will be local to the most inner currently executing block, while without these the variable will be local to the function. If no function is executing, the variable will be global.</li>
</ol>
<p>The exporting rules when creating or updating a variable are identical to the scoping rules for variables:</p>
<ol type="1">
<li>If a variable is explicitly set to either be exported or not exported, that setting will be honored.</li>
<li>If a variable is not explicitly set to be exported or not exported, but has been previously defined, the previous exporting rule for the variable is kept.</li>
<li>If a variable is not explicitly set to be either exported or unexported and has never before been defined, the variable will not be exported.</li>
</ol>
<p>In query mode, the scope to be examined can be specified.</p>
<p>In erase mode, if variable indices are specified, only the specified slices of the array variable will be erased. When erasing an entire variable (i.e. no slicing), the scope of the variable to be erased can be specified. That way, a global variable can be erased even if a local variable with the same name exists. Scope can not be specified when erasing a slice of an array. The innermost scope is always used.</p>
<p><code>set</code> requires all options to come before any other arguments. For example, <code>set flags -l</code> will have the effect of setting the value of the variable <code>flags</code> to '-l', not making the variable local.</p>
<p>In assignment mode, <code>set</code> exits with a non-zero exit status if variable assignments could not be successfully performed. If the variable assignments were performed, the exit status is unchanged. This allows simultaneous capture of the output and exit status of a subcommand, e.g. <code>if set output (command)</code>. In query mode, the exit status is the number of variables that were not found. In erase mode, <code>set</code> exits with a zero exit status in case of success, with a non-zero exit status if the commandline was invalid, if the variable was write-protected or if the variable did not exist.</p>
<h2><a class="anchor" id="set-example"></a>
Example</h2>
<p><code>set -xg</code> will print all global, exported variables.</p>
<p><code>set foo hi</code> sets the value of the variable foo to be hi.</p>
<p><code>set -e smurf</code> removes the variable <code>smurf</code>.</p>
<p><code>set PATH[4] ~/bin</code> changes the fourth element of the <code>PATH</code> array to <code>~/bin</code> </p>
<pre>if set python_path (which python)
    echo "Python is at $python_path"
end</pre><p>The above outputs the path to Python if <code>which</code> returns true.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="set_color"></a>
set_color - set the terminal color</h1>
<h2><a class="anchor" id="set_color-synopsis"></a>
Synopsis</h2>
<p><code>set_color [-h &ndash;help] [-b &ndash;background COLOR] [COLOR]</code></p>
<h2><a class="anchor" id="set_color-description"></a>
Description</h2>
<p><code>set_color</code> changes the foreground and/or background color of the terminal. <code>COLOR</code> is one of black, red, green, brown, yellow, blue, magenta, purple, cyan, white and normal.</p>
<p>If your terminal supports term256 (modern xterms and OS X Lion), you can specify an RGB value with three or six hex digits, such as A0FF33 or f2f. <code>fish</code> will choose the closest supported color.</p>
<p>The following options are available:</p>
<ul>
<li><code>-b</code>, <code>&ndash;background</code> <code>COLOR</code> sets the background color.</li>
<li><code>-c</code>, <code>&ndash;print-colors</code> prints a list of all valid color names.</li>
<li><code>-h</code>, <code>&ndash;help</code> displays a help message and exit.</li>
<li><code>-o</code>, <code>&ndash;bold</code> sets bold or extra bright mode.</li>
<li><code>-u</code>, <code>&ndash;underline</code> sets underlined mode.</li>
</ul>
<p>Calling <code>set_color normal</code> will set the terminal color to the default color of the terminal.</p>
<p>Some terminals use the &ndash;bold escape sequence to switch to a brighter color set. On such terminals, <code>set_color white</code> will result in a grey font color, while <code>set_color &ndash;bold white</code> will result in a white font color.</p>
<p>Not all terminal emulators support all these features.</p>
<p><code>set_color</code> uses the terminfo database to look up how to change terminal colors on whatever terminal is in use. Some systems have old and incomplete terminfo databases, and may lack color information for terminals that support it.</p>
<h2><a class="anchor" id="set_color-example"></a>
Examples</h2>
<pre>set_color red; echo "Roses are red"
set_color blue; echo "Violets are blue"
set_color 62A ; echo "Eggplants are dark purple"
set_color normal; echo "Normal is nice too"
</pre><p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="source"></a>
source - evaluate contents of file.</h1>
<h2><a class="anchor" id="source-synopsis"></a>
Synopsis</h2>
<p><code>source FILENAME [ARGUMENTS...]</code></p>
<h2><a class="anchor" id="source-description"></a>
Description</h2>
<p><code>source</code> evaluates the commands of the specified file in the current shell. This is different from starting a new process to perform the commands (i.e. <code>fish &lt; FILENAME</code>) since the commands will be evaluated by the current shell, which means that changes in environment variables affect the current shell. If additional arguments are specified after the file name, they will be inserted into the $argv variable.</p>
<p>If no file is specified, or if the file name '-' is used, stdin will be read.</p>
<p>The return status of <code>source</code> is the return status of the last job to execute. If something goes wrong while opening or reading the file, <code>source</code> exits with a non-zero status.</p>
<p><code></code>. (a single period) is an alias for the <code>source</code> command. The use of <code></code>. is deprecated in favour of <code>source</code>, and <code></code>. will be removed in a future version of fish.</p>
<h2><a class="anchor" id="source-example"></a>
Example</h2>
<p><code>source ~/.config/fish/config.fish</code> causes fish to re-read its initialization file.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="status"></a>
status - query fish runtime information</h1>
<h2><a class="anchor" id="status-synopsis"></a>
Synopsis</h2>
<p><code>status [OPTION]</code></p>
<h2><a class="anchor" id="status-description"></a>
Description</h2>
<p>With no arguments, <code>status</code> displays a summary of the current login and job control status of the shell.</p>
<p>The following options are available:</p>
<ul>
<li><code>-c</code> or <code>&ndash;is-command-substitution</code> returns 0 if fish is currently executing a command substitution.</li>
<li><code>-b</code> or <code>&ndash;is-block</code> returns 0 if fish is currently executing a block of code.</li>
<li><code>-i</code> or <code>&ndash;is-interactive</code> returns 0 if fish is interactive - that is, connected to a keyboard.</li>
<li><code>-l</code> or <code>&ndash;is-login</code> returns 0 if fish is a login shell - that is, if fish should perform login tasks such as setting up the PATH.</li>
<li><code>&ndash;is-full-job-control</code> returns 0 if full job control is enabled.</li>
<li><code>&ndash;is-interactive-job-control</code> returns 0 if interactive job control is enabled.</li>
<li><code>&ndash;is-no-job-control</code> returns 0 if no job control is enabled.</li>
<li><code>-f</code> or <code>&ndash;current-filename</code> prints the filename of the currently running script.</li>
<li><code>-n</code> or <code>&ndash;current-line-number</code> prints the line number of the currently running script.</li>
<li><code>-j CONTROLTYPE</code> or <code>&ndash;job-control=CONTROLTYPE</code> sets the job control type, which can be <code>none</code>, <code>full</code>, or <code>interactive</code>.</li>
<li><code>-t</code> or <code>&ndash;print-stack-trace</code> prints a stack trace of all function calls on the call stack.</li>
<li><code>-h</code> or <code>&ndash;help</code> displays a help message and exit.</li>
</ul>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="switch"></a>
switch - conditionally execute a block of commands</h1>
<h2><a class="anchor" id="switch-synopsis"></a>
Synopsis</h2>
<p><code>switch VALUE; [case [WILDCARD...]; [COMMANDS...]; ...] end</code></p>
<h2><a class="anchor" id="switch-description"></a>
Description</h2>
<p><code>switch</code> performs one of several blocks of commands, depending on whether a specified value equals one of several wildcarded values. <code>case</code> is used together with the <code>switch</code> statement in order to determine which block should be executed.</p>
<p>Each <code>case</code> command is given one or more parameters. The first <code>case</code> command with a parameter that matches the string specified in the switch command will be evaluated. <code>case</code> parameters may contain wildcards. These need to be escaped or quoted in order to avoid regular wildcard expansion using filenames.</p>
<p>Note that fish does not fall through on case statements. Only the first matching case is executed.</p>
<p>Note that command substitutions in a case statement will be evaluated even if its body is not taken. All substitutions, including command substitutions, must be performed before the value can be compared against the parameter.</p>
<h2><a class="anchor" id="switch-example"></a>
Example</h2>
<p>If the variable $animal contains the name of an animal, the following code would attempt to classify it:</p>
<pre>
switch $animal
    case cat
        echo evil
    case wolf dog human moose dolphin whale
        echo mammal
    case duck goose albatross
        echo bird
    case shark trout stingray
        echo fish
    case '*'
        echo I have no idea what a $animal is
end
</pre><p>If the above code was run with <code>$animal</code> set to <code>whale</code>, the output would be <code>mammal</code>.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="test"></a>
test - perform tests on files and text</h1>
<h2><a class="anchor" id="test-synopsis"></a>
Synopsis</h2>
<p><code>test [EXPRESSION]</code></p>
<h2><a class="anchor" id="test-description"></a>
Description</h2>
<p>Tests the expression given and sets the exit status to 0 if true, and 1 if false. An expression is made up of one or more operators and their arguments.</p>
<p>The following operators are available to examine files and directories:</p>
<ul>
<li><code>-b FILE</code> returns true if <code>FILE</code> is a block device.</li>
<li><code>-c FILE</code> returns true if <code>FILE</code> is a character device.</li>
<li><code>-d FILE</code> returns true if <code>FILE</code> is a directory.</li>
<li><code>-e FILE</code> returns true if <code>FILE</code> exists.</li>
<li><code>-f FILE</code> returns true if <code>FILE</code> is a regular file.</li>
<li><code>-g FILE</code> returns true if <code>FILE</code> has the set-group-ID bit set.</li>
<li><code>-G FILE</code> returns true if <code>FILE</code> exists and has the same group ID as the current user.</li>
<li><code>-L FILE</code> returns true if <code>FILE</code> is a symbolic link.</li>
<li><code>-O FILE</code> returns true if <code>FILE</code> exists and is owned by the current user.</li>
<li><code>-p FILE</code> returns true if <code>FILE</code> is a named pipe.</li>
<li><code>-r FILE</code> returns true if <code>FILE</code> is marked as readable.</li>
<li><code>-s FILE</code> returns true if the size of <code>FILE</code> is greater than zero.</li>
<li><code>-S FILE</code> returns true if <code>FILE</code> is a socket.</li>
<li><code>-t FD</code> returns true if the file descriptor <code>FD</code> is a terminal (TTY).</li>
<li><code>-u FILE</code> returns true if <code>FILE</code> has the set-user-ID bit set.</li>
<li><code>-w FILE</code> returns true if <code>FILE</code> is marked as writable; note that this does not check if the filesystem is read-only.</li>
<li><code>-x FILE</code> returns true if <code>FILE</code> is marked as executable.</li>
</ul>
<p>The following operators are available to compare and examine text strings:</p>
<ul>
<li><code>STRING1 = STRING2</code> returns true if the strings <code>STRING1</code> and <code>STRING2</code> are identical.</li>
<li><code>STRING1 != STRING2</code> returns true if the strings <code>STRING1</code> and <code>STRING2</code> are not identical.</li>
<li><code>-n STRING</code> returns true if the length of <code>STRING</code> is non-zero.</li>
<li><code>-z STRING</code> returns true if the length of <code>STRING</code> is zero.</li>
</ul>
<p>The following operators are available to compare and examine numbers:</p>
<ul>
<li><code>NUM1 -eq NUM2</code> returns true if <code>NUM1</code> and <code>NUM2</code> are numerically equal.</li>
<li><code>NUM1 -ne NUM2</code> returns true if <code>NUM1</code> and <code>NUM2</code> are not numerically equal.</li>
<li><code>NUM1 -gt NUM2</code> returns true if <code>NUM1</code> is greater than <code>NUM2</code>.</li>
<li><code>NUM1 -ge NUM2</code> returns true if <code>NUM1</code> is greater than or equal to <code>NUM2</code>.</li>
<li><code>NUM1 -lt NUM2</code> returns true if <code>NUM1</code> is less than <code>NUM2</code>.</li>
<li><code>NUM1 -le NUM2</code> returns true if <code>NUM1</code> is less than or equal to <code>NUM2</code>.</li>
</ul>
<p>Note that only integers are supported. For more complex mathematical operations, including fractions, the <code>env</code> program may be useful. Consult the documentation for your operating system.</p>
<p>Expressions can be combined using the following operators:</p>
<ul>
<li><code>COND1 -a COND2</code> returns true if both <code>COND1</code> and <code>COND2</code> are true.</li>
<li><code>COND1 -o COND2</code> returns true if either <code>COND1</code> or <code>COND2</code> are true.</li>
</ul>
<p>Expressions can be inverted using the <code>!</code> operator:</p>
<ul>
<li><code>! EXPRESSION</code> returns true if <code>EXPRESSION</code> is false, and false if <code>EXPRESSION</code> is true.</li>
</ul>
<p>Expressions can be grouped using parentheses.</p>
<ul>
<li><code>( EXPRESSION )</code> returns the value of <code>EXPRESSION</code>. Note that parentheses will usually require escaping with <code>\(</code> to avoid being interpreted as a command substitution.</li>
</ul>
<h2><a class="anchor" id="test-example"></a>
Examples</h2>
<p>If the <code>/tmp</code> directory exists, copy the <code>/etc/motd</code> file to it:</p>
<pre>
if test -d /tmp
    cp /etc/motd /tmp/motd
end
</pre><p>If the variable <code>MANPATH</code> is defined and not empty, print the contents:</p>
<pre>
if test -n $MANPATH
    echo $MANPATH
end
</pre><p>Parentheses and the <code>-o</code> and <code>-a</code> operators can be combined to produce more complicated expressions. In this example, success is printed if there is a <code>/foo</code> or <code>/bar</code> file as well as a <code>/baz</code> or <code>/bat</code> file.</p>
<pre>
if test \( -f /foo -o -f /bar \) -a \( -f /baz -o -f /bat \)
    echo Success.
end.
</pre><h2><a class="anchor" id="test-standards"></a>
Standards</h2>
<p><code>test</code> implements a subset of the <a href="http://www.unix.com/man-page/POSIX/1/test/">IEEE Std 1003.1-2008 (POSIX.1) standard</a>. The following exceptions apply:</p>
<ul>
<li>The <code>&lt;</code> and <code>&gt;</code> operators for comparing strings are not implemented.</li>
</ul>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="trap"></a>
trap - perform an action when the shell receives a signal</h1>
<h2><a class="anchor" id="trap-synopsis"></a>
Synopsis</h2>
<p><code>trap [OPTIONS] [[ARG] SIGSPEC ... ]</code></p>
<h2><a class="anchor" id="trap-description"></a>
Description</h2>
<p><code>trap</code> is a wrapper around the fish event delivery framework. It exists for backwards compatibility with POSIX shells. For other uses, it is recommended to define an <a href="index.html#event">event handler</a>.</p>
<p>The following parameters are available:</p>
<ul>
<li><code>ARG</code> is the command to be executed on signal delivery.</li>
<li><code>SIGSPEC</code> is the name of the signal to trap.</li>
<li><code>-h</code> or <code>&ndash;help</code> displays help and exits.</li>
<li><code>-l</code> or <code>&ndash;list-signals</code> prints a list of signal names.</li>
<li><code>-p</code> or <code>&ndash;print</code> prints all defined signal handlers.</li>
</ul>
<p>If <code>ARG</code> and <code>SIGSPEC</code> are both specified, <code>ARG</code> is the command to be executed when the signal specified by <code>SIGSPEC</code> is delivered.</p>
<p>If <code>ARG</code> is absent (and there is a single SIGSPEC) or -, each specified signal is reset to its original disposition (the value it had upon entrance to the shell). If <code>ARG</code> is the null string the signal specified by each <code>SIGSPEC</code> is ignored by the shell and by the commands it invokes.</p>
<p>If <code>ARG</code> is not present and <code>-p</code> has been supplied, then the trap commands associated with each <code>SIGSPEC</code> are displayed. If no arguments are supplied or if only <code>-p</code> is given, <code>trap</code> prints the list of commands associated with each signal.</p>
<p>Signal names are case insensitive and the <code>SIG</code> prefix is optional.</p>
<p>The return status is 1 if any <code>SIGSPEC</code> is invalid; otherwise trap returns 0.</p>
<h2><a class="anchor" id="trap-example"></a>
Example</h2>
<p><code>trap "status --print-stack-trace" SIGUSR1</code> prints a stack trace each time the <code>SIGUSR1</code> signal is sent to the shell.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="type"></a>
type - indicate how a command would be interpreted</h1>
<h2><a class="anchor" id="type-synopsis"></a>
Synopsis</h2>
<p><code>type [OPTIONS] NAME [NAME ...]</code></p>
<h2><a class="anchor" id="type-description"></a>
Description</h2>
<p>With no options, <code>type</code> indicates how each <code>NAME</code> would be interpreted if used as a command name.</p>
<p>The following options are available:</p>
<ul>
<li><code>-h</code> or <code>&ndash;help</code> prints help and then exits.</li>
<li><code>-a</code> or <code>&ndash;all</code> prints all of possible definitions of the specified names.</li>
<li><code>-f</code> or <code>&ndash;no-functions</code> suppresses function and builtin lookup.</li>
<li><code>-t</code> or <code>&ndash;type</code> prints <code>keyword</code>, <code>function</code>, <code>builtin</code>, or <code>file</code> if <code>NAME</code> is a shell reserved word, function, builtin, or disk file, respectively.</li>
<li><code>-p</code> or <code>&ndash;path</code> returns the name of the disk file that would be executed, or nothing if 'type -t name' would not return 'file'.</li>
<li><code>-P</code> or <code>&ndash;force-path</code> returns the name of the disk file that would be executed, or nothing no file with the specified name could be found in the <code>$PATH</code>.</li>
</ul>
<p><code>type</code> sets the exit status to 0 if the specified command was found, and 1 if it could not be found.</p>
<h2><a class="anchor" id="type-example"></a>
Example</h2>
<p><code>type fg</code> outputs the string 'fg is a shell builtin'.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="ulimit"></a>
ulimit - set or get resource usage limits</h1>
<h2><a class="anchor" id="ulimit-synopsis"></a>
Synopsis</h2>
<p><code>ulimit [OPTIONS] [LIMIT]</code></p>
<h2><a class="anchor" id="ulimit-description"></a>
Description</h2>
<p><code>ulimit</code> builtin sets or outputs the resource usage limits of the shell and any processes spawned by it. If a new limit value is omitted, the current value of the limit of the resource is printed; otherwise, the specified limit is set to the new value.</p>
<p>Use one of the following switches to specify which resource limit to set or report:</p>
<ul>
<li><code>-c</code> or <code>&ndash;core-size</code>: the maximum size of core files created. By setting this limit to zero, core dumps can be disabled.</li>
<li><code>-d</code> or <code>&ndash;data-size</code>: the maximum size of a process' data segment.</li>
<li><code>-f</code> or <code>&ndash;file-size</code>: the maximum size of files created by the shell.</li>
<li><code>-l</code> or <code>&ndash;lock-size</code>: the maximum size that may be locked into memory.</li>
<li><code>-m</code> or <code>&ndash;resident-set-size</code>: the maximum resident set size.</li>
<li><code>-n</code> or <code>&ndash;file-descriptor-count</code>: the maximum number of open file descriptors (most systems do not allow this value to be set).</li>
<li><code>-s</code> or <code>&ndash;stack-size</code>: the maximum stack size.</li>
<li><code>-t</code> or <code>&ndash;cpu-time</code>: the maximum amount of CPU time in seconds.</li>
<li><code>-u</code> or <code>&ndash;process-count</code>: the maximum number of processes available to a single user.</li>
<li><code>-v</code> or <code>&ndash;virtual-memory-size</code> The maximum amount of virtual memory available to the shell.</li>
</ul>
<p>Note that not all these limits are available in all operating systems.</p>
<p>The value of limit can be a number in the unit specified for the resource or one of the special values <code>hard</code>, <code>soft</code>, or <code>unlimited</code>, which stand for the current hard limit, the current soft limit, and no limit, respectively.</p>
<p>If limit is given, it is the new value of the specified resource. If no option is given, then <code>-f</code> is assumed. Values are in kilobytes, except for <code>-t</code>, which is in seconds and <code>-n</code> and <code>-u</code>, which are unscaled values. The return status is 0 unless an invalid option or argument is supplied, or an error occurs while setting a new limit.</p>
<p><code>ulimit</code> also accepts the following switches that determine what type of limit to set:</p>
<ul>
<li><code>-H</code> or <code>&ndash;hard</code> sets hard resource limit</li>
<li><code>-S</code> or <code>&ndash;soft</code> sets soft resource limit</li>
</ul>
<p>A hard limit can only be decreased. Once it is set it cannot be increased; a soft limit may be increased up to the value of the hard limit. If neither -H nor -S is specified, both the soft and hard limits are updated when assigning a new limit value, and the soft limit is used when reporting the current value.</p>
<p>The following additional options are also understood by <code>ulimit</code>:</p>
<ul>
<li><code>-a</code> or <code>&ndash;all</code> prints all current limits</li>
<li><code>-h</code> or <code>&ndash;help</code> displays help and exits.</li>
</ul>
<p>The <code>fish</code> implementation of <code>ulimit</code> should behave identically to the implementation in bash, except for these differences:</p>
<ul>
<li>Fish <code>ulimit</code> supports GNU-style long options for all switches</li>
<li>Fish <code>ulimit</code> does not support the <code>-p</code> option for getting the pipe size. The bash implementation consists of a compile-time check that empirically guesses this number by writing to a pipe and waiting for SIGPIPE. Fish does not do this because it this method of determining pipe size is unreliable. Depending on bash version, there may also be further additional limits to set in bash that do not exist in fish.</li>
<li>Fish <code>ulimit</code> does not support getting or setting multiple limits in one command, except reporting all values using the -a switch</li>
</ul>
<h2><a class="anchor" id="ulimit-example"></a>
Example</h2>
<p><code>ulimit -Hs 64</code> sets the hard stack size limit to 64 kB.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="umask"></a>
umask - set or get the file creation mode mask</h1>
<h2><a class="anchor" id="umask-synopsis"></a>
Synopsis</h2>
<p><code>umask [OPTIONS] [MASK]</code></p>
<h2><a class="anchor" id="umask-description"></a>
Description</h2>
<p><code>umask</code> displays and manipulates the "umask", or file creation mode mask, which is used to restrict the default access to files.</p>
<p>The umask may be expressed either as an octal number, which represents the rights that will be removed by default, or symbolically, which represents the only rights that will be granted by default.</p>
<p>Access rights are explained in the manual page for the <code>chmod(1)</code> program.</p>
<p>With no parameters, the current file creation mode mask is printed as an octal number.</p>
<ul>
<li><code>-h</code> or <code>&ndash;help</code> prints this message.</li>
<li><code>-S</code> or <code>&ndash;symbolic</code> prints the umask in symbolic form instead of octal form.</li>
<li><code>-p</code> or <code>&ndash;as-command</code> outputs the umask in a form that may be reused as input</li>
</ul>
<p>If a numeric mask is specified as a parameter, the current shell's umask will be set to that value, and the rights specified by that mask will be removed from new files and directories by default.</p>
<p>If a symbolic mask is specified, the desired permission bits, and not the inverse, should be specified. A symbolic mask is a comma separated list of rights. Each right consists of three parts:</p>
<ul>
<li>The first part specifies to whom this set of right applies, and can be one of <code>u</code>, <code>g</code>, <code>o</code> or <code>a</code>, where <code>u</code> specifies the user who owns the file, <code>g</code> specifies the group owner of the file, <code>o</code> specific other users rights and <code>a</code> specifies all three should be changed.</li>
<li>The second part of a right specifies the mode, and can be one of <code>=</code>, <code>+</code> or <code>-</code>, where <code>=</code> specifies that the rights should be set to the new value, <code>+</code> specifies that the specified right should be added to those previously specified and <code>-</code> specifies that the specified rights should be removed from those previously specified.</li>
<li>The third part of a right specifies what rights should be changed and can be any combination of <code>r</code>, <code>w</code> and <code>x</code>, representing read, write and execute rights.</li>
</ul>
<p>If the first and second parts are skipped, they are assumed to be <code>a</code> and <code>=</code>, respectively. As an example, <code>r,u+w</code> means all users should have read access and the file owner should also have write access.</p>
<p>Note that symbolic masks currently do not work as intended.</p>
<h2><a class="anchor" id="umask-example"></a>
Example</h2>
<p><code>umask 177</code> or <code>umask u=rw</code> sets the file creation mask to read and write for the owner and no permissions at all for any other users.</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="vared"></a>
vared - interactively edit the value of an environment variable</h1>
<h2><a class="anchor" id="vared-synopsis"></a>
Synopsis</h2>
<p><code>vared VARIABLE_NAME</code></p>
<h2><a class="anchor" id="vared-description"></a>
Description</h2>
<p><code>vared</code> is used to interactively edit the value of an environment variable. Array variables as a whole can not be edited using <code>vared</code>, but individual array elements can.</p>
<h2><a class="anchor" id="vared-example"></a>
Example</h2>
<p><code>vared PATH[3]</code> edits the third element of the PATH array</p>
<p>Back to <a href="index.html#toc-commands">index</a>. </p>
<hr/>
 <h1><a class="anchor" id="while"></a>
while - perform a command multiple times</h1>
<h2><a class="anchor" id="while-synopsis"></a>
Synopsis</h2>
<p><code>while CONDITION; COMMANDS...; end</code></p>
<h2><a class="anchor" id="while-description"></a>
Description</h2>
<p><code>while</code> repeatedly executes <code>CONDITION</code>, and if the exit status is 0, then executes <code>COMMANDS</code>.</p>
<p>If the exit status of <code>CONDITION</code> is non-zero on the first iteration, <code>COMMANDS</code> will not be executed at all.</p>
<p>Use <a href="#begin"><code>begin; ...; end</code></a> for complex conditions; more complex control can be achieved with <code>while true</code> containing a <a href="#break">break</a>.</p>
<h2><a class="anchor" id="while-example"></a>
Example</h2>
<p><code>while test -f foo.txt; echo file exists; sleep 10; end</code> outputs 'file exists' at 10 second intervals as long as the file foo.txt exists.</p>
<p>Back to <a href="index.html#toc-commands">index</a>.  </div>  </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 1 2013 17:28:48 for fish by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
